var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Nt={};/*!
	By AndrÃ© Rinas, www.andrerinas.de
	Documentation, www.simplelightbox.com
	Available for use under the MIT License
	Version 2.14.3
*/(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;function a(i){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a(i)}function e(i,s){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=w(i))||s&&i&&typeof i.length=="number"){t&&(i=t);var n=0,l=function(){};return{s:l,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(r){throw r},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,y=!1,m;return{s:function(){t=t.call(i)},n:function(){var r=t.next();return p=r.done,r},e:function(r){y=!0,m=r},f:function(){try{!p&&t.return!=null&&t.return()}finally{if(y)throw m}}}}function f(i){return E(i)||O(i)||w(i)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(i,s){if(i){if(typeof i=="string")return M(i,s);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(i,s)}}function O(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function E(i){if(Array.isArray(i))return M(i)}function M(i,s){(s==null||s>i.length)&&(s=i.length);for(var t=0,n=new Array(s);t<s;t++)n[t]=i[t];return n}function x(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")}function P(i,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function F(i,s,t){return s&&P(i.prototype,s),t&&P(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function k(i,s,t){return s in i?Object.defineProperty(i,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[s]=t,i}var Y=function(){function i(s,t){var n=this;if(x(this,i),k(this,"defaultOptions",{sourceAttr:"href",overlay:!0,overlayOpacity:.7,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",captionHTML:!0,close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp|avif",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox",rtl:!1,fixedClass:"sl-fixed",fadeSpeed:300,uniqueImages:!0,focus:!0,scrollZoom:!0,scrollZoomFactor:.5,download:!1}),k(this,"transitionPrefix",void 0),k(this,"isPassiveEventsSupported",void 0),k(this,"transitionCapable",!1),k(this,"isTouchDevice","ontouchstart"in window),k(this,"isAppleDevice",/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),k(this,"initialLocationHash",void 0),k(this,"pushStateSupport","pushState"in history),k(this,"isOpen",!1),k(this,"isAnimating",!1),k(this,"isClosing",!1),k(this,"isFadeIn",!1),k(this,"urlChangedOnce",!1),k(this,"hashReseted",!1),k(this,"historyHasChanges",!1),k(this,"historyUpdateTimeout",null),k(this,"currentImage",void 0),k(this,"eventNamespace","simplelightbox"),k(this,"domNodes",{}),k(this,"loadedImages",[]),k(this,"initialImageIndex",0),k(this,"currentImageIndex",0),k(this,"initialSelector",null),k(this,"globalScrollbarWidth",0),k(this,"controlCoordinates",{swipeDiff:0,swipeYDiff:0,swipeStart:0,swipeEnd:0,swipeYStart:0,swipeYEnd:0,mousedown:!1,imageLeft:0,zoomed:!1,containerHeight:0,containerWidth:0,containerOffsetX:0,containerOffsetY:0,imgHeight:0,imgWidth:0,capture:!1,initialOffsetX:0,initialOffsetY:0,initialPointerOffsetX:0,initialPointerOffsetY:0,initialPointerOffsetX2:0,initialPointerOffsetY2:0,initialScale:1,initialPinchDistance:0,pointerOffsetX:0,pointerOffsetY:0,pointerOffsetX2:0,pointerOffsetY2:0,targetOffsetX:0,targetOffsetY:0,targetScale:0,pinchOffsetX:0,pinchOffsetY:0,limitOffsetX:0,limitOffsetY:0,scaleDifference:0,targetPinchDistance:0,touchCount:0,doubleTapped:!1,touchmoveCount:0}),this.options=Object.assign(this.defaultOptions,t),this.isPassiveEventsSupported=this.checkPassiveEventsSupport(),typeof s=="string"?(this.initialSelector=s,this.elements=Array.from(document.querySelectorAll(s))):this.elements=typeof s.length<"u"&&s.length>0?Array.from(s):[s],this.relatedElements=[],this.transitionPrefix=this.calculateTransitionPrefix(),this.transitionCapable=this.transitionPrefix!==!1,this.initialLocationHash=this.hash,this.options.rel&&(this.elements=this.getRelated(this.options.rel)),this.options.uniqueImages){var l=[];this.elements=Array.from(this.elements).filter(function(p){var y=p.getAttribute(n.options.sourceAttr);return l.indexOf(y)===-1?(l.push(y),!0):!1})}this.createDomNodes(),this.options.close&&this.domNodes.wrapper.appendChild(this.domNodes.closeButton),this.options.nav&&this.domNodes.wrapper.appendChild(this.domNodes.navigation),this.options.spinner&&this.domNodes.wrapper.appendChild(this.domNodes.spinner),this.addEventListener(this.elements,"click."+this.eventNamespace,function(p){if(n.isValidLink(p.currentTarget)){if(p.preventDefault(),n.isAnimating)return!1;n.initialImageIndex=n.elements.indexOf(p.currentTarget),n.openImage(p.currentTarget)}}),this.options.docClose&&this.addEventListener(this.domNodes.wrapper,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],function(p){n.isOpen&&p.target===p.currentTarget&&n.close()}),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.eventNamespace,function(p){p.target.parentElement.classList.contains("sl-image")&&p.preventDefault()}),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.eventNamespace,this.throttle(function(p){if(n.controlCoordinates.swipeDiff=0,n.isAnimating&&p.key==="Escape"){n.currentImage.setAttribute("src",""),n.isAnimating=!1,n.close();return}n.isOpen&&(p.preventDefault(),p.key==="Escape"&&n.close(),!n.isAnimating&&["ArrowLeft","ArrowRight"].indexOf(p.key)>-1&&n.loadImage(p.key==="ArrowRight"?1:-1))},this.options.throttleInterval)),this.addEvents()}return F(i,[{key:"checkPassiveEventsSupport",value:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch{}return t}},{key:"getCaptionElement",value:function(t){if(this.options.captionSelector.startsWith("+")){var n=this.options.captionSelector.replace(/^\+/,"").trimStart(),l=t.nextElementSibling;return l&&l.matches(n)?l:!1}else if(this.options.captionSelector.startsWith(">")){var p=this.options.captionSelector.replace(/^>/,"").trimStart();return t.querySelector(p)}else return t.querySelector(this.options.captionSelector)}},{key:"generateQuerySelector",value:function(t){var n=t.tagName,l=t.id,p=t.className,y=t.parentNode;if(n==="HTML")return"HTML";var m=n;if(m+=l!==""?"#".concat(l):"",p)for(var g=p.trim().split(/\s/),r=0;r<g.length;r++)m+=".".concat(g[r]);for(var d=1,T=t;T.previousElementSibling;T=T.previousElementSibling)d+=1;return m+=":nth-child(".concat(d,")"),"".concat(this.generateQuerySelector(y)," > ").concat(m)}},{key:"createDomNodes",value:function(){if(this.domNodes.overlay=document.createElement("div"),this.domNodes.overlay.classList.add("sl-overlay"),this.domNodes.overlay.dataset.opacityTarget=this.options.overlayOpacity,this.domNodes.closeButton=document.createElement("button"),this.domNodes.closeButton.classList.add("sl-close"),this.domNodes.closeButton.innerHTML=this.options.closeText,this.domNodes.spinner=document.createElement("div"),this.domNodes.spinner.classList.add("sl-spinner"),this.domNodes.spinner.innerHTML="<div></div>",this.domNodes.navigation=document.createElement("div"),this.domNodes.navigation.classList.add("sl-navigation"),this.domNodes.navigation.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.domNodes.counter=document.createElement("div"),this.domNodes.counter.classList.add("sl-counter"),this.domNodes.counter.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.domNodes.download=document.createElement("div"),this.domNodes.download.classList.add("sl-download"),this.domNodes.downloadLink=document.createElement("a"),this.domNodes.downloadLink.setAttribute("download",""),this.domNodes.downloadLink.textContent=this.options.download,this.domNodes.download.appendChild(this.domNodes.downloadLink),this.domNodes.caption=document.createElement("div"),this.domNodes.caption.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass){var t,n=this.options.captionClass.split(/[\s,]+/);(t=this.domNodes.caption.classList).add.apply(t,f(n))}this.domNodes.image=document.createElement("div"),this.domNodes.image.classList.add("sl-image"),this.domNodes.wrapper=document.createElement("div"),this.domNodes.wrapper.classList.add("sl-wrapper"),this.domNodes.wrapper.setAttribute("tabindex",-1),this.domNodes.wrapper.setAttribute("role","dialog"),this.domNodes.wrapper.setAttribute("aria-hidden",!1),this.options.className&&this.domNodes.wrapper.classList.add(this.options.className),this.options.rtl&&this.domNodes.wrapper.classList.add("sl-dir-rtl")}},{key:"throttle",value:function(t,n){var l;return function(){l||(t.apply(this,arguments),l=!0,setTimeout(function(){return l=!1},n))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||t.getAttribute(this.options.sourceAttr)&&new RegExp("("+this.options.fileExt+")($|\\?.*$)","i").test(t.getAttribute(this.options.sourceAttr))}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t?"-o":!1}},{key:"getScrollbarWidth",value:function(){var t=0,n=document.createElement("div");return n.classList.add("sl-scrollbar-measure"),document.body.appendChild(n),t=n.offsetWidth-n.clientWidth,document.body.removeChild(n),t}},{key:"toggleScrollbar",value:function(t){var n=0,l=[].slice.call(document.querySelectorAll("."+this.options.fixedClass));if(t==="hide"){var p=window.innerWidth;if(!p){var y=document.documentElement.getBoundingClientRect();p=y.right-Math.abs(y.left)}if(document.body.clientWidth<p||this.isAppleDevice){var m=parseInt(window.getComputedStyle(document.body).paddingRight||0,10);n=this.getScrollbarWidth(),document.body.dataset.originalPaddingRight=m,(n>0||n==0&&this.isAppleDevice)&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=m+n+"px",l.forEach(function(g){var r=g.style.paddingRight,d=window.getComputedStyle(g)["padding-right"];g.dataset.originalPaddingRight=r,g.style.paddingRight="".concat(parseFloat(d)+n,"px")}))}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight+"px",l.forEach(function(g){var r=g.dataset.originalPaddingRight;typeof r<"u"&&(g.style.paddingRight=r)});return n}},{key:"close",value:function(){var t=this;if(!this.isOpen||this.isAnimating||this.isClosing)return!1;this.isClosing=!0;var n=this.relatedElements[this.currentImageIndex];n.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&(this.historyHasChanges=!1,this.hashReseted||this.resetHash()),this.removeEventListener(document,"focusin."+this.eventNamespace),this.fadeOut(this.domNodes.overlay,this.options.fadeSpeed),this.fadeOut(document.querySelectorAll(".sl-image img,  .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),this.options.fadeSpeed,function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&t.options.htmlClass!==""&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.domNodes.wrapper),t.options.overlay&&document.body.removeChild(t.domNodes.overlay),t.domNodes.additionalHtml=null,t.domNodes.download=null,n.dispatchEvent(new Event("closed.simplelightbox")),t.isClosing=!1}),this.currentImage=null,this.isOpen=!1,this.isAnimating=!1;for(var l in this.controlCoordinates)this.controlCoordinates[l]=0;this.controlCoordinates.mousedown=!1,this.controlCoordinates.zoomed=!1,this.controlCoordinates.capture=!1,this.controlCoordinates.initialScale=this.minMax(1,1,this.options.maxZoom),this.controlCoordinates.doubleTapped=!1}},{key:"hash",get:function(){return window.location.hash.substring(1)}},{key:"preload",value:function(){var t=this,n=this.currentImageIndex,l=this.relatedElements.length,p=n+1<0?l-1:n+1>=l-1?0:n+1,y=n-1<0?l-1:n-1>=l-1?0:n-1,m=new Image,g=new Image;m.addEventListener("load",function(r){var d=r.target.getAttribute("src");t.loadedImages.indexOf(d)===-1&&t.loadedImages.push(d),t.relatedElements[n].dispatchEvent(new Event("nextImageLoaded."+t.eventNamespace))}),m.setAttribute("src",this.relatedElements[p].getAttribute(this.options.sourceAttr)),g.addEventListener("load",function(r){var d=r.target.getAttribute("src");t.loadedImages.indexOf(d)===-1&&t.loadedImages.push(d),t.relatedElements[n].dispatchEvent(new Event("prevImageLoaded."+t.eventNamespace))}),g.setAttribute("src",this.relatedElements[y].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(t){var n=this,l=t;this.options.rtl&&(t=-t),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event("change."+this.eventNamespace)),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((t===1?"next":"prev")+"."+this.eventNamespace));var p=this.currentImageIndex+t;if(this.isAnimating||(p<0||p>=this.relatedElements.length)&&this.options.loop===!1)return!1;this.currentImageIndex=p<0?this.relatedElements.length-1:p>this.relatedElements.length-1?0:p,this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*l-this.controlCoordinates.swipeDiff+"px"),this.fadeOut(this.domNodes.image,this.options.fadeSpeed,function(){n.isAnimating=!0,n.isClosing?n.isAnimating=!1:setTimeout(function(){var y=n.relatedElements[n.currentImageIndex];n.currentImage&&(n.currentImage.setAttribute("src",y.getAttribute(n.options.sourceAttr)),n.loadedImages.indexOf(y.getAttribute(n.options.sourceAttr))===-1&&n.show(n.domNodes.spinner),n.domNodes.image.contains(n.domNodes.caption)&&n.domNodes.image.removeChild(n.domNodes.caption),n.adjustImage(l),n.options.preloading&&n.preload())},100)})}},{key:"adjustImage",value:function(t){var n=this;if(!this.currentImage)return!1;var l=new Image,p=window.innerWidth*this.options.widthRatio,y=window.innerHeight*this.options.heightRatio;l.setAttribute("src",this.currentImage.getAttribute("src")),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.zoomPanElement(0,0,1),l.addEventListener("error",function(m){n.relatedElements[n.currentImageIndex].dispatchEvent(new Event("error."+n.eventNamespace)),n.isAnimating=!1,n.isOpen=!0,n.domNodes.spinner.style.display="none";var g=t===1||t===-1;if(n.initialImageIndex===n.currentImageIndex&&g)return n.close();n.options.alertError&&alert(n.options.alertErrorMessage),n.loadImage(g?t:1)}),l.addEventListener("load",function(m){typeof t<"u"&&(n.relatedElements[n.currentImageIndex].dispatchEvent(new Event("changed."+n.eventNamespace)),n.relatedElements[n.currentImageIndex].dispatchEvent(new Event((t===1?"nextDone":"prevDone")+"."+n.eventNamespace))),n.options.history&&n.updateURL(),n.loadedImages.indexOf(n.currentImage.getAttribute("src"))===-1&&n.loadedImages.push(n.currentImage.getAttribute("src"));var g=m.target.width,r=m.target.height;if(n.options.scaleImageToRatio||g>p||r>y){var d=g/r>p/y?g/p:r/y;g/=d,r/=d}n.domNodes.image.style.top=(window.innerHeight-r)/2+"px",n.domNodes.image.style.left=(window.innerWidth-g-n.globalScrollbarWidth)/2+"px",n.domNodes.image.style.width=g+"px",n.domNodes.image.style.height=r+"px",n.domNodes.spinner.style.display="none",n.options.focus&&n.forceFocus(),n.fadeIn(n.currentImage,n.options.fadeSpeed,function(){n.options.focus&&n.domNodes.wrapper.focus()}),n.isOpen=!0;var T,L;typeof n.options.captionSelector=="string"?T=n.options.captionSelector==="self"?n.relatedElements[n.currentImageIndex]:n.getCaptionElement(n.relatedElements[n.currentImageIndex]):typeof n.options.captionSelector=="function"&&(T=n.options.captionSelector(n.relatedElements[n.currentImageIndex])),n.options.captions&&T&&(n.options.captionType==="data"?L=T.dataset[n.options.captionsData]:n.options.captionType==="text"?L=T.innerHTML:L=T.getAttribute(n.options.captionsData)),n.options.loop?n.relatedElements.length===1?n.hide(n.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):n.show(n.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):(n.currentImageIndex===0&&n.hide(n.domNodes.navigation.querySelector(".sl-prev")),n.currentImageIndex>=n.relatedElements.length-1&&n.hide(n.domNodes.navigation.querySelector(".sl-next")),n.currentImageIndex>0&&n.show(n.domNodes.navigation.querySelector(".sl-prev")),n.currentImageIndex<n.relatedElements.length-1&&n.show(n.domNodes.navigation.querySelector(".sl-next"))),t===1||t===-1?(n.options.animationSlide&&(n.slide(0,100*t+"px"),setTimeout(function(){n.slide(n.options.animationSpeed/1e3,"0px")},50)),n.fadeIn(n.domNodes.image,n.options.fadeSpeed,function(){n.isAnimating=!1,n.setCaption(L,g)})):(n.isAnimating=!1,n.setCaption(L,g)),n.options.additionalHtml&&!n.domNodes.additionalHtml&&(n.domNodes.additionalHtml=document.createElement("div"),n.domNodes.additionalHtml.classList.add("sl-additional-html"),n.domNodes.additionalHtml.innerHTML=n.options.additionalHtml,n.domNodes.image.appendChild(n.domNodes.additionalHtml)),n.options.download&&n.domNodes.downloadLink.setAttribute("href",n.currentImage.getAttribute("src"))})}},{key:"zoomPanElement",value:function(t,n,l){this.currentImage.style[this.transitionPrefix+"transform"]="translate("+t+","+n+") scale("+l+")"}},{key:"minMax",value:function(t,n,l){return t<n?n:t>l?l:t}},{key:"setZoomData",value:function(t,n,l){this.currentImage.dataset.scale=t,this.currentImage.dataset.translateX=n,this.currentImage.dataset.translateY=l}},{key:"hashchangeHandler",value:function(){this.isOpen&&this.hash===this.initialLocationHash&&(this.hashReseted=!0,this.close())}},{key:"addEvents",value:function(){var t=this;if(this.addEventListener(window,"resize."+this.eventNamespace,function(l){t.isOpen&&t.adjustImage()}),this.addEventListener(this.domNodes.closeButton,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],this.close.bind(this)),this.options.history&&setTimeout(function(){t.addEventListener(window,"hashchange."+t.eventNamespace,function(l){t.isOpen&&t.hashchangeHandler()})},40),this.addEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace,function(l){if(!l.currentTarget.tagName.match(/button/i))return!0;l.preventDefault(),t.controlCoordinates.swipeDiff=0,t.loadImage(l.currentTarget.classList.contains("sl-next")?1:-1)}),this.options.scrollZoom){var n=1;this.addEventListener(this.domNodes.image,["mousewheel","DOMMouseScroll"],function(l){if(t.controlCoordinates.mousedown||t.isAnimating||t.isClosing||!t.isOpen)return!0;t.controlCoordinates.containerHeight==0&&(t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY));var p=l.delta||l.wheelDelta;p===void 0&&(p=l.detail),p=Math.max(-1,Math.min(1,p)),n+=p*t.options.scrollZoomFactor*n,n=Math.max(1,Math.min(t.options.maxZoom,n)),t.controlCoordinates.targetScale=n;var y=document.documentElement.scrollTop||document.body.scrollTop;t.controlCoordinates.pinchOffsetX=l.pageX,t.controlCoordinates.pinchOffsetY=l.pageY-y||0,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1?(t.controlCoordinates.zoomed=!0,(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale===1&&(t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.setZoomData(t.controlCoordinates.targetScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)})}this.addEventListener(this.domNodes.image,["touchstart."+this.eventNamespace,"mousedown."+this.eventNamespace],function(l){if(l.target.tagName==="A"&&l.type==="touchstart")return!0;if(l.type==="mousedown")l.preventDefault(),t.controlCoordinates.initialPointerOffsetX=l.clientX,t.controlCoordinates.initialPointerOffsetY=l.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.capture=!0;else{if(t.controlCoordinates.touchCount=l.touches.length,t.controlCoordinates.initialPointerOffsetX=l.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=l.touches[0].clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.touchCount===1){if(!t.controlCoordinates.doubleTapped)t.controlCoordinates.doubleTapped=!0,setTimeout(function(){t.controlCoordinates.doubleTapped=!1},300);else return t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout(function(){t.currentImage&&t.currentImage.classList.remove("sl-transition")},200),!1;t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY)}else t.controlCoordinates.touchCount===2&&(t.controlCoordinates.initialPointerOffsetX2=l.touches[1].clientX,t.controlCoordinates.initialPointerOffsetY2=l.touches[1].clientY,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.pinchOffsetX=(t.controlCoordinates.initialPointerOffsetX+t.controlCoordinates.initialPointerOffsetX2)/2,t.controlCoordinates.pinchOffsetY=(t.controlCoordinates.initialPointerOffsetY+t.controlCoordinates.initialPointerOffsetY2)/2,t.controlCoordinates.initialPinchDistance=Math.sqrt((t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)*(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)+(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)*(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)));t.controlCoordinates.capture=!0}return t.controlCoordinates.mousedown?!0:(t.transitionCapable&&(t.controlCoordinates.imageLeft=parseInt(t.domNodes.image.style.left,10)),t.controlCoordinates.mousedown=!0,t.controlCoordinates.swipeDiff=0,t.controlCoordinates.swipeYDiff=0,t.controlCoordinates.swipeStart=l.pageX||l.touches[0].pageX,t.controlCoordinates.swipeYStart=l.pageY||l.touches[0].pageY,!1)}),this.addEventListener(this.domNodes.image,["touchmove."+this.eventNamespace,"mousemove."+this.eventNamespace,"MSPointerMove"],function(l){if(!t.controlCoordinates.mousedown)return!0;if(l.type==="touchmove"){if(t.controlCoordinates.capture===!1)return!1;t.controlCoordinates.pointerOffsetX=l.touches[0].clientX,t.controlCoordinates.pointerOffsetY=l.touches[0].clientY,t.controlCoordinates.touchCount=l.touches.length,t.controlCoordinates.touchmoveCount++,t.controlCoordinates.touchCount>1?(t.controlCoordinates.pointerOffsetX2=l.touches[1].clientX,t.controlCoordinates.pointerOffsetY2=l.touches[1].clientY,t.controlCoordinates.targetPinchDistance=Math.sqrt((t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)*(t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)+(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)*(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)),t.controlCoordinates.initialPinchDistance===null&&(t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance),Math.abs(t.controlCoordinates.initialPinchDistance-t.controlCoordinates.targetPinchDistance)>=1&&(t.controlCoordinates.targetScale=t.minMax(t.controlCoordinates.targetPinchDistance/t.controlCoordinates.initialPinchDistance*t.controlCoordinates.initialScale,1,t.options.maxZoom),t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1&&(t.controlCoordinates.zoomed=!0,(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY)):(t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale))}if(l.type==="mousemove"&&t.controlCoordinates.mousedown){if(l.type=="touchmove")return!0;if(l.preventDefault(),t.controlCoordinates.capture===!1)return!1;t.controlCoordinates.pointerOffsetX=l.clientX,t.controlCoordinates.pointerOffsetY=l.clientY,t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)}t.controlCoordinates.zoomed||(t.controlCoordinates.swipeEnd=l.pageX||l.touches[0].pageX,t.controlCoordinates.swipeYEnd=l.pageY||l.touches[0].pageY,t.controlCoordinates.swipeDiff=t.controlCoordinates.swipeStart-t.controlCoordinates.swipeEnd,t.controlCoordinates.swipeYDiff=t.controlCoordinates.swipeYStart-t.controlCoordinates.swipeYEnd,t.options.animationSlide&&t.slide(0,-t.controlCoordinates.swipeDiff+"px"))}),this.addEventListener(this.domNodes.image,["touchend."+this.eventNamespace,"mouseup."+this.eventNamespace,"touchcancel."+this.eventNamespace,"mouseleave."+this.eventNamespace,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],function(l){if(t.isTouchDevice&&l.type==="touchend"&&(t.controlCoordinates.touchCount=l.touches.length,t.controlCoordinates.touchCount===0?(t.currentImage&&t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.controlCoordinates.initialScale===1&&(t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1):t.controlCoordinates.touchCount===1?(t.controlCoordinates.initialPointerOffsetX=l.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=l.touches[0].clientY):t.controlCoordinates.touchCount>1&&(t.controlCoordinates.initialPinchDistance=null)),t.controlCoordinates.mousedown){t.controlCoordinates.mousedown=!1;var p=!0;t.options.loop||(t.currentImageIndex===0&&t.controlCoordinates.swipeDiff<0&&(p=!1),t.currentImageIndex>=t.relatedElements.length-1&&t.controlCoordinates.swipeDiff>0&&(p=!1)),Math.abs(t.controlCoordinates.swipeDiff)>t.options.swipeTolerance&&p?t.loadImage(t.controlCoordinates.swipeDiff>0?1:-1):t.options.animationSlide&&t.slide(t.options.animationSpeed/1e3,"0px"),t.options.swipeClose&&Math.abs(t.controlCoordinates.swipeYDiff)>50&&Math.abs(t.controlCoordinates.swipeDiff)<t.options.swipeTolerance&&t.close()}}),this.addEventListener(this.domNodes.image,["dblclick"],function(l){if(!t.isTouchDevice)return t.controlCoordinates.initialPointerOffsetX=l.clientX,t.controlCoordinates.initialPointerOffsetY=l.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout(function(){t.currentImage&&(t.currentImage.classList.remove("sl-transition"),t.currentImage.style[t.transitionPrefix+"transform-origin"]=null)},200),t.controlCoordinates.capture=!0,!1})}},{key:"getDimensions",value:function(t){var n=window.getComputedStyle(t),l=t.offsetHeight,p=t.offsetWidth,y=parseFloat(n.borderTopWidth),m=parseFloat(n.borderBottomWidth),g=parseFloat(n.paddingTop),r=parseFloat(n.paddingBottom),d=parseFloat(n.borderLeftWidth),T=parseFloat(n.borderRightWidth),L=parseFloat(n.paddingLeft),v=parseFloat(n.paddingRight);return{height:l-m-y-g-r,width:p-d-T-L-v}}},{key:"updateHash",value:function(){var t="pid="+(this.currentImageIndex+1),n=window.location.href.split("#")[0]+"#"+t;this.hashReseted=!1,this.pushStateSupport?window.history[this.historyHasChanges?"replaceState":"pushState"]("",document.title,n):this.historyHasChanges?window.location.replace(n):window.location.hash=t,this.historyHasChanges||(this.urlChangedOnce=!0),this.historyHasChanges=!0}},{key:"resetHash",value:function(){this.hashReseted=!0,this.urlChangedOnce?history.back():this.pushStateSupport?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.historyUpdateTimeout)}},{key:"updateURL",value:function(){clearTimeout(this.historyUpdateTimeout),this.historyHasChanges?this.historyUpdateTimeout=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,n,l){var p=this;if(this.options.captions&&t&&t!==""&&typeof t<"u"){var y,m=!((y=l??this.options.captionHTML)!==null&&y!==void 0)||y?"innerHTML":"innerText";this.hide(this.domNodes.caption),this.domNodes.caption.style.width=n+"px",this.domNodes.caption[m]=t,this.domNodes.image.appendChild(this.domNodes.caption),setTimeout(function(){p.fadeIn(p.domNodes.caption,p.options.fadeSpeed)},this.options.captionDelay)}}},{key:"slide",value:function(t,n){if(!this.transitionCapable)return this.domNodes.image.style.left=n;this.domNodes.image.style[this.transitionPrefix+"transform"]="translateX("+n+")",this.domNodes.image.style[this.transitionPrefix+"transition"]=this.transitionPrefix+"transform "+t+"s linear"}},{key:"getRelated",value:function(t){var n;return t&&t!==!1&&t!=="nofollow"?n=Array.from(this.elements).filter(function(l){return l.getAttribute("rel")===t}):n=this.elements,n}},{key:"openImage",value:function(t){var n=this;t.dispatchEvent(new Event("show."+this.eventNamespace)),this.globalScrollbarWidth=this.getScrollbarWidth(),this.options.disableScroll&&(this.toggleScrollbar("hide"),this.globalScrollbarWidth=0),this.options.htmlClass&&this.options.htmlClass!==""&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.domNodes.wrapper),this.domNodes.wrapper.appendChild(this.domNodes.image),this.options.overlay&&document.body.appendChild(this.domNodes.overlay),this.relatedElements=this.getRelated(t.rel),this.options.showCounter&&(this.relatedElements.length==1&&this.domNodes.wrapper.contains(this.domNodes.counter)?this.domNodes.wrapper.removeChild(this.domNodes.counter):this.relatedElements.length>1&&!this.domNodes.wrapper.contains(this.domNodes.counter)&&this.domNodes.wrapper.appendChild(this.domNodes.counter)),this.options.download&&this.domNodes.download&&this.domNodes.wrapper.appendChild(this.domNodes.download),this.isAnimating=!0,this.currentImageIndex=this.relatedElements.indexOf(t);var l=t.getAttribute(this.options.sourceAttr);this.currentImage=document.createElement("img"),this.currentImage.style.display="none",this.currentImage.setAttribute("src",l),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.loadedImages.indexOf(l)===-1&&this.loadedImages.push(l),this.domNodes.image.innerHTML="",this.domNodes.image.setAttribute("style",""),this.domNodes.image.appendChild(this.currentImage),this.fadeIn(this.domNodes.overlay,this.options.fadeSpeed),this.fadeIn([this.domNodes.counter,this.domNodes.navigation,this.domNodes.closeButton,this.domNodes.download],this.options.fadeSpeed),this.show(this.domNodes.spinner),this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.domNodes.counter.querySelector(".sl-total").innerHTML=this.relatedElements.length,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout(function(){t.dispatchEvent(new Event("shown."+n.eventNamespace))},this.options.animationSpeed)}},{key:"forceFocus",value:function(){var t=this;this.removeEventListener(document,"focusin."+this.eventNamespace),this.addEventListener(document,"focusin."+this.eventNamespace,function(n){document!==n.target&&t.domNodes.wrapper!==n.target&&!t.domNodes.wrapper.contains(n.target)&&t.domNodes.wrapper.focus()})}},{key:"addEventListener",value:function(t,n,l,p){t=this.wrap(t),n=this.wrap(n);var y=e(t),m;try{for(y.s();!(m=y.n()).done;){var g=m.value;g.namespaces||(g.namespaces={});var r=e(n),d;try{for(r.s();!(d=r.n()).done;){var T=d.value,L=p||!1,v=["touchstart","touchmove","mousewheel","DOMMouseScroll"].indexOf(T.split(".")[0])>=0;v&&this.isPassiveEventsSupported&&(a(L)==="object"?L.passive=!0:L={passive:!0}),g.namespaces[T]=l,g.addEventListener(T.split(".")[0],l,L)}}catch(C){r.e(C)}finally{r.f()}}}catch(C){y.e(C)}finally{y.f()}}},{key:"removeEventListener",value:function(t,n){t=this.wrap(t),n=this.wrap(n);var l=e(t),p;try{for(l.s();!(p=l.n()).done;){var y=p.value,m=e(n),g;try{for(m.s();!(g=m.n()).done;){var r=g.value;y.namespaces&&y.namespaces[r]&&(y.removeEventListener(r.split(".")[0],y.namespaces[r]),delete y.namespaces[r])}}catch(d){m.e(d)}finally{m.f()}}}catch(d){l.e(d)}finally{l.f()}}},{key:"fadeOut",value:function(t,n,l){var p=this;t=this.wrap(t);var y=e(t),m;try{for(y.s();!(m=y.n()).done;){var g=m.value;g.style.opacity=parseFloat(g)||window.getComputedStyle(g).getPropertyValue("opacity")}}catch(T){y.e(T)}finally{y.f()}this.isFadeIn=!1;var r=16.66666/(n||this.options.fadeSpeed),d=function T(){var L=parseFloat(t[0].style.opacity);if((L-=r)<0){var v=e(t),C;try{for(v.s();!(C=v.n()).done;){var S=C.value;S.style.display="none",S.style.opacity=1}}catch(V){v.e(V)}finally{v.f()}l&&l.call(p,t)}else{var A=e(t),_;try{for(A.s();!(_=A.n()).done;){var z=_.value;z.style.opacity=L}}catch(V){A.e(V)}finally{A.f()}requestAnimationFrame(T)}};d()}},{key:"fadeIn",value:function(t,n,l,p){var y=this;t=this.wrap(t);var m=e(t),g;try{for(m.s();!(g=m.n()).done;){var r=g.value;r&&(r.style.opacity=0,r.style.display=p||"block")}}catch(v){m.e(v)}finally{m.f()}this.isFadeIn=!0;var d=parseFloat(t[0].dataset.opacityTarget||1),T=16.66666*d/(n||this.options.fadeSpeed),L=function v(){var C=parseFloat(t[0].style.opacity);if((C+=T)>d){var z=e(t),V;try{for(z.s();!(V=z.n()).done;){var Z=V.value;Z&&(Z.style.opacity=d)}}catch(K){z.e(K)}finally{z.f()}l&&l.call(y,t)}else{var S=e(t),A;try{for(S.s();!(A=S.n()).done;){var _=A.value;_&&(_.style.opacity=C)}}catch(K){S.e(K)}finally{S.f()}if(!y.isFadeIn)return;requestAnimationFrame(v)}};L()}},{key:"hide",value:function(t){t=this.wrap(t);var n=e(t),l;try{for(n.s();!(l=n.n()).done;){var p=l.value;p.style.display!="none"&&(p.dataset.initialDisplay=p.style.display),p.style.display="none"}}catch(y){n.e(y)}finally{n.f()}}},{key:"show",value:function(t,n){t=this.wrap(t);var l=e(t),p;try{for(l.s();!(p=l.n()).done;){var y=p.value;y.style.display=y.dataset.initialDisplay||n||"block"}}catch(m){l.e(m)}finally{l.f()}}},{key:"wrap",value:function(t){return typeof t[Symbol.iterator]=="function"&&typeof t!="string"?t:[t]}},{key:"on",value:function(t,n){t=this.wrap(t);var l=e(this.elements),p;try{for(l.s();!(p=l.n()).done;){var y=p.value;y.fullyNamespacedEvents||(y.fullyNamespacedEvents={});var m=e(t),g;try{for(m.s();!(g=m.n()).done;){var r=g.value;y.fullyNamespacedEvents[r]=n,y.addEventListener(r,n)}}catch(d){m.e(d)}finally{m.f()}}}catch(d){l.e(d)}finally{l.f()}return this}},{key:"off",value:function(t){t=this.wrap(t);var n=e(this.elements),l;try{for(n.s();!(l=n.n()).done;){var p=l.value,y=e(t),m;try{for(y.s();!(m=y.n()).done;){var g=m.value;typeof p.fullyNamespacedEvents<"u"&&g in p.fullyNamespacedEvents&&p.removeEventListener(g,p.fullyNamespacedEvents[g])}}catch(r){y.e(r)}finally{y.f()}}}catch(r){n.e(r)}finally{n.f()}return this}},{key:"open",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;t=t||this.elements[0],typeof jQuery<"u"&&t instanceof jQuery&&(t=t.get(0)),n>0&&(t=this.elements[n]),this.initialImageIndex=this.elements.indexOf(t),this.initialImageIndex>-1&&this.openImage(t)}},{key:"openPosition",value:function(t){var n=this.elements[t];this.open(n,t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"getLighboxData",value:function(){return{currentImageIndex:this.currentImageIndex,currentImage:this.currentImage,globalScrollbarWidth:this.globalScrollbarWidth}}},{key:"destroy",value:function(){this.off(["close."+this.eventNamespace,"closed."+this.eventNamespace,"nextImageLoaded."+this.eventNamespace,"prevImageLoaded."+this.eventNamespace,"change."+this.eventNamespace,"nextDone."+this.eventNamespace,"prevDone."+this.eventNamespace,"error."+this.eventNamespace,"changed."+this.eventNamespace,"next."+this.eventNamespace,"prev."+this.eventNamespace,"show."+this.eventNamespace,"shown."+this.eventNamespace]),this.removeEventListener(this.elements,"click."+this.eventNamespace),this.removeEventListener(document,"focusin."+this.eventNamespace),this.removeEventListener(document.body,"contextmenu."+this.eventNamespace),this.removeEventListener(document.body,"keyup."+this.eventNamespace),this.removeEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace),this.removeEventListener(this.domNodes.closeButton,"click."+this.eventNamespace),this.removeEventListener(window,"resize."+this.eventNamespace),this.removeEventListener(window,"hashchange."+this.eventNamespace),this.close(),this.isOpen&&(document.body.removeChild(this.domNodes.wrapper),document.body.removeChild(this.domNodes.overlay)),this.elements=null}},{key:"refresh",value:function(){if(!this.initialSelector)throw"refreshing only works when you initialize using a selector!";var t=this.options,n=this.initialSelector;return this.destroy(),this.constructor(n,t),this}}]),i}(),I=Y;o.default=I,de.SimpleLightbox=Y})(Nt);const fi=Ue(Nt);/*! @vimeo/player v2.23.0 | (c) 2024 Vimeo | MIT License | https://github.com/vimeo/player.js */function wt(o,a){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);a&&(f=f.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),e.push.apply(e,f)}return e}function Ct(o){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?wt(Object(e),!0).forEach(function(f){je(o,f,e[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):wt(Object(e)).forEach(function(f){Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(e,f))})}return o}function ee(){ee=function(){return o};var o={},a=Object.prototype,e=a.hasOwnProperty,f=Object.defineProperty||function(v,C,S){v[C]=S.value},h=typeof Symbol=="function"?Symbol:{},w=h.iterator||"@@iterator",O=h.asyncIterator||"@@asyncIterator",E=h.toStringTag||"@@toStringTag";function M(v,C,S){return Object.defineProperty(v,C,{value:S,enumerable:!0,configurable:!0,writable:!0}),v[C]}try{M({},"")}catch{M=function(C,S,A){return C[S]=A}}function x(v,C,S,A){var _=C&&C.prototype instanceof k?C:k,z=Object.create(_.prototype),V=new d(A||[]);return f(z,"_invoke",{value:y(v,S,V)}),z}function P(v,C,S){try{return{type:"normal",arg:v.call(C,S)}}catch(A){return{type:"throw",arg:A}}}o.wrap=x;var F={};function k(){}function Y(){}function I(){}var i={};M(i,w,function(){return this});var s=Object.getPrototypeOf,t=s&&s(s(T([])));t&&t!==a&&e.call(t,w)&&(i=t);var n=I.prototype=k.prototype=Object.create(i);function l(v){["next","throw","return"].forEach(function(C){M(v,C,function(S){return this._invoke(C,S)})})}function p(v,C){function S(_,z,V,Z){var K=P(v[_],v,z);if(K.type!=="throw"){var le=K.arg,pe=le.value;return pe&&typeof pe=="object"&&e.call(pe,"__await")?C.resolve(pe.__await).then(function(ue){S("next",ue,V,Z)},function(ue){S("throw",ue,V,Z)}):C.resolve(pe).then(function(ue){le.value=ue,V(le)},function(ue){return S("throw",ue,V,Z)})}Z(K.arg)}var A;f(this,"_invoke",{value:function(_,z){function V(){return new C(function(Z,K){S(_,z,Z,K)})}return A=A?A.then(V,V):V()}})}function y(v,C,S){var A="suspendedStart";return function(_,z){if(A==="executing")throw new Error("Generator is already running");if(A==="completed"){if(_==="throw")throw z;return L()}for(S.method=_,S.arg=z;;){var V=S.delegate;if(V){var Z=m(V,S);if(Z){if(Z===F)continue;return Z}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(A==="suspendedStart")throw A="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);A="executing";var K=P(v,C,S);if(K.type==="normal"){if(A=S.done?"completed":"suspendedYield",K.arg===F)continue;return{value:K.arg,done:S.done}}K.type==="throw"&&(A="completed",S.method="throw",S.arg=K.arg)}}}function m(v,C){var S=C.method,A=v.iterator[S];if(A===void 0)return C.delegate=null,S==="throw"&&v.iterator.return&&(C.method="return",C.arg=void 0,m(v,C),C.method==="throw")||S!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+S+"' method")),F;var _=P(A,v.iterator,C.arg);if(_.type==="throw")return C.method="throw",C.arg=_.arg,C.delegate=null,F;var z=_.arg;return z?z.done?(C[v.resultName]=z.value,C.next=v.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,F):z:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,F)}function g(v){var C={tryLoc:v[0]};1 in v&&(C.catchLoc=v[1]),2 in v&&(C.finallyLoc=v[2],C.afterLoc=v[3]),this.tryEntries.push(C)}function r(v){var C=v.completion||{};C.type="normal",delete C.arg,v.completion=C}function d(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(g,this),this.reset(!0)}function T(v){if(v){var C=v[w];if(C)return C.call(v);if(typeof v.next=="function")return v;if(!isNaN(v.length)){var S=-1,A=function _(){for(;++S<v.length;)if(e.call(v,S))return _.value=v[S],_.done=!1,_;return _.value=void 0,_.done=!0,_};return A.next=A}}return{next:L}}function L(){return{value:void 0,done:!0}}return Y.prototype=I,f(n,"constructor",{value:I,configurable:!0}),f(I,"constructor",{value:Y,configurable:!0}),Y.displayName=M(I,E,"GeneratorFunction"),o.isGeneratorFunction=function(v){var C=typeof v=="function"&&v.constructor;return!!C&&(C===Y||(C.displayName||C.name)==="GeneratorFunction")},o.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,I):(v.__proto__=I,M(v,E,"GeneratorFunction")),v.prototype=Object.create(n),v},o.awrap=function(v){return{__await:v}},l(p.prototype),M(p.prototype,O,function(){return this}),o.AsyncIterator=p,o.async=function(v,C,S,A,_){_===void 0&&(_=Promise);var z=new p(x(v,C,S,A),_);return o.isGeneratorFunction(C)?z:z.next().then(function(V){return V.done?V.value:z.next()})},l(n),M(n,E,"Generator"),M(n,w,function(){return this}),M(n,"toString",function(){return"[object Generator]"}),o.keys=function(v){var C=Object(v),S=[];for(var A in C)S.push(A);return S.reverse(),function _(){for(;S.length;){var z=S.pop();if(z in C)return _.value=z,_.done=!1,_}return _.done=!0,_}},o.values=T,d.prototype={constructor:d,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(r),!v)for(var C in this)C.charAt(0)==="t"&&e.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var v=this.tryEntries[0].completion;if(v.type==="throw")throw v.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var C=this;function S(K,le){return z.type="throw",z.arg=v,C.next=K,le&&(C.method="next",C.arg=void 0),!!le}for(var A=this.tryEntries.length-1;A>=0;--A){var _=this.tryEntries[A],z=_.completion;if(_.tryLoc==="root")return S("end");if(_.tryLoc<=this.prev){var V=e.call(_,"catchLoc"),Z=e.call(_,"finallyLoc");if(V&&Z){if(this.prev<_.catchLoc)return S(_.catchLoc,!0);if(this.prev<_.finallyLoc)return S(_.finallyLoc)}else if(V){if(this.prev<_.catchLoc)return S(_.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return S(_.finallyLoc)}}}},abrupt:function(v,C){for(var S=this.tryEntries.length-1;S>=0;--S){var A=this.tryEntries[S];if(A.tryLoc<=this.prev&&e.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var _=A;break}}_&&(v==="break"||v==="continue")&&_.tryLoc<=C&&C<=_.finallyLoc&&(_=null);var z=_?_.completion:{};return z.type=v,z.arg=C,_?(this.method="next",this.next=_.finallyLoc,F):this.complete(z)},complete:function(v,C){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&C&&(this.next=C),F},finish:function(v){for(var C=this.tryEntries.length-1;C>=0;--C){var S=this.tryEntries[C];if(S.finallyLoc===v)return this.complete(S.completion,S.afterLoc),r(S),F}},catch:function(v){for(var C=this.tryEntries.length-1;C>=0;--C){var S=this.tryEntries[C];if(S.tryLoc===v){var A=S.completion;if(A.type==="throw"){var _=A.arg;r(S)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(v,C,S){return this.delegate={iterator:T(v),resultName:C,nextLoc:S},this.method==="next"&&(this.arg=void 0),F}},o}function Et(o,a,e,f,h,w,O){try{var E=o[w](O),M=E.value}catch(x){e(x);return}E.done?a(M):Promise.resolve(M).then(f,h)}function ve(o){return function(){var a=this,e=arguments;return new Promise(function(f,h){var w=o.apply(a,e);function O(M){Et(w,f,h,O,E,"next",M)}function E(M){Et(w,f,h,O,E,"throw",M)}O(void 0)})}}function Lt(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function Ot(o,a){for(var e=0;e<a.length;e++){var f=a[e];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,At(f.key),f)}}function It(o,a,e){return a&&Ot(o.prototype,a),e&&Ot(o,e),Object.defineProperty(o,"prototype",{writable:!1}),o}function je(o,a,e){return a=At(a),a in o?Object.defineProperty(o,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[a]=e,o}function yn(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),a&&Ne(o,a)}function ke(o){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(o)}function Ne(o,a){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,h){return f.__proto__=h,f},Ne(o,a)}function Pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xe(o,a,e){return Pt()?Xe=Reflect.construct.bind():Xe=function(h,w,O){var E=[null];E.push.apply(E,w);var M=Function.bind.apply(h,E),x=new M;return O&&Ne(x,O.prototype),x},Xe.apply(null,arguments)}function bn(o){return Function.toString.call(o).indexOf("[native code]")!==-1}function lt(o){var a=typeof Map=="function"?new Map:void 0;return lt=function(f){if(f===null||!bn(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(typeof a<"u"){if(a.has(f))return a.get(f);a.set(f,h)}function h(){return Xe(f,arguments,ke(this).constructor)}return h.prototype=Object.create(f.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),Ne(h,f)},lt(o)}function We(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function wn(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return We(o)}function Cn(o){var a=Pt();return function(){var f=ke(o),h;if(a){var w=ke(this).constructor;h=Reflect.construct(f,arguments,w)}else h=f.apply(this,arguments);return wn(this,h)}}function En(o,a){if(typeof o!="object"||o===null)return o;var e=o[Symbol.toPrimitive];if(e!==void 0){var f=e.call(o,a||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function At(o){var a=En(o,"string");return typeof a=="symbol"?a:String(a)}var Ft=typeof global<"u"&&{}.toString.call(global)==="[object global]";function Dt(o,a){return o.indexOf(a.toLowerCase())===0?o:"".concat(a.toLowerCase()).concat(o.substr(0,1).toUpperCase()).concat(o.substr(1))}function On(o){return!!(o&&o.nodeType===1&&"nodeName"in o&&o.ownerDocument&&o.ownerDocument.defaultView)}function Dn(o){return!isNaN(parseFloat(o))&&isFinite(o)&&Math.floor(o)==o}function be(o){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.videoji\.hk))(?=$|\/)/.test(o)}function Ht(o){var a=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.videoji\.hk))\/video\/\d+/;return a.test(o)}function Sn(o){var a=(o||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),e=(a&&a[1]||"").replace("player.","");return e.endsWith(".videoji.hk")?e:"vimeo.com"}function Yt(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=o.id,e=o.url,f=a||e;if(!f)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(Dn(f))return"https://vimeo.com/".concat(f);if(be(f))return f.replace("http:","https:");throw a?new TypeError("â".concat(a,"â is not a valid video id.")):new TypeError("â".concat(f,"â is not a vimeo.com url."))}var St=function(a,e,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",O=typeof e=="string"?[e]:e;return O.forEach(function(E){a[h](E,f)}),{cancel:function(){return O.forEach(function(M){return a[w](M,f)})}}},Mn=typeof Array.prototype.indexOf<"u",xn=typeof window<"u"&&typeof window.postMessage<"u";if(!Ft&&(!Mn||!xn))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(o,a){return a={exports:{}},o(a,a.exports),a.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(o){if(o.WeakMap)return;var a=Object.prototype.hasOwnProperty,e=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),f=function(w,O,E){e?Object.defineProperty(w,O,{configurable:!0,writable:!0,value:E}):w[O]=E};o.WeakMap=function(){function w(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(f(this,"_id",E("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}f(w.prototype,"delete",function(x){if(O(this,"delete"),!h(x))return!1;var P=x[this._id];return P&&P[0]===x?(delete x[this._id],!0):!1}),f(w.prototype,"get",function(x){if(O(this,"get"),!!h(x)){var P=x[this._id];if(P&&P[0]===x)return P[1]}}),f(w.prototype,"has",function(x){if(O(this,"has"),!h(x))return!1;var P=x[this._id];return!!(P&&P[0]===x)}),f(w.prototype,"set",function(x,P){if(O(this,"set"),!h(x))throw new TypeError("Invalid value used as weak map key");var F=x[this._id];return F&&F[0]===x?(F[1]=P,this):(f(x,this._id,[x,P]),this)});function O(x,P){if(!h(x)||!a.call(x,"_id"))throw new TypeError(P+" method called on incompatible receiver "+typeof x)}function E(x){return x+"_"+M()+"."+M()}function M(){return Math.random().toString().substring(2)}return f(w,"_polyfill",!0),w}();function h(w){return Object(w)===w}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ee);var re=Tn(function(o){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(e,f,h){f[e]=f[e]||h(),o.exports&&(o.exports=f[e])})("Promise",Ee,function(){var e,f,h,w=Object.prototype.toString,O=typeof setImmediate<"u"?function(l){return setImmediate(l)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(l,p,y,m){return Object.defineProperty(l,p,{value:y,writable:!0,configurable:m!==!1})}}catch{e=function(p,y,m){return p[y]=m,p}}h=function(){var l,p,y;function m(g,r){this.fn=g,this.self=r,this.next=void 0}return{add:function(r,d){y=new m(r,d),p?p.next=y:l=y,p=y,y=void 0},drain:function(){var r=l;for(l=p=f=void 0;r;)r.fn.call(r.self),r=r.next}}}();function E(n,l){h.add(n,l),f||(f=O(h.drain))}function M(n){var l,p=typeof n;return n!=null&&(p=="object"||p=="function")&&(l=n.then),typeof l=="function"?l:!1}function x(){for(var n=0;n<this.chain.length;n++)P(this,this.state===1?this.chain[n].success:this.chain[n].failure,this.chain[n]);this.chain.length=0}function P(n,l,p){var y,m;try{l===!1?p.reject(n.msg):(l===!0?y=n.msg:y=l.call(void 0,n.msg),y===p.promise?p.reject(TypeError("Promise-chain cycle")):(m=M(y))?m.call(y,p.resolve,p.reject):p.resolve(y))}catch(g){p.reject(g)}}function F(n){var l,p=this;if(!p.triggered){p.triggered=!0,p.def&&(p=p.def);try{(l=M(n))?E(function(){var y=new I(p);try{l.call(n,function(){F.apply(y,arguments)},function(){k.apply(y,arguments)})}catch(m){k.call(y,m)}}):(p.msg=n,p.state=1,p.chain.length>0&&E(x,p))}catch(y){k.call(new I(p),y)}}}function k(n){var l=this;l.triggered||(l.triggered=!0,l.def&&(l=l.def),l.msg=n,l.state=2,l.chain.length>0&&E(x,l))}function Y(n,l,p,y){for(var m=0;m<l.length;m++)(function(r){n.resolve(l[r]).then(function(T){p(r,T)},y)})(m)}function I(n){this.def=n,this.triggered=!1}function i(n){this.promise=n,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function s(n){if(typeof n!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var l=new i(this);this.then=function(y,m){var g={success:typeof y=="function"?y:!0,failure:typeof m=="function"?m:!1};return g.promise=new this.constructor(function(d,T){if(typeof d!="function"||typeof T!="function")throw TypeError("Not a function");g.resolve=d,g.reject=T}),l.chain.push(g),l.state!==0&&E(x,l),g.promise},this.catch=function(y){return this.then(void 0,y)};try{n.call(void 0,function(y){F.call(l,y)},function(y){k.call(l,y)})}catch(p){k.call(l,p)}}var t=e({},"constructor",s,!1);return s.prototype=t,e(t,"__NPO__",0,!1),e(s,"resolve",function(l){var p=this;return l&&typeof l=="object"&&l.__NPO__===1?l:new p(function(m,g){if(typeof m!="function"||typeof g!="function")throw TypeError("Not a function");m(l)})}),e(s,"reject",function(l){return new this(function(y,m){if(typeof y!="function"||typeof m!="function")throw TypeError("Not a function");m(l)})}),e(s,"all",function(l){var p=this;return w.call(l)!="[object Array]"?p.reject(TypeError("Not an array")):l.length===0?p.resolve([]):new p(function(m,g){if(typeof m!="function"||typeof g!="function")throw TypeError("Not a function");var r=l.length,d=Array(r),T=0;Y(p,l,function(v,C){d[v]=C,++T===r&&m(d)},g)})}),e(s,"race",function(l){var p=this;return w.call(l)!="[object Array]"?p.reject(TypeError("Not an array")):new p(function(m,g){if(typeof m!="function"||typeof g!="function")throw TypeError("Not a function");Y(p,l,function(d,T){m(T)},g)})}),s})}),he=new WeakMap;function xe(o,a,e){var f=he.get(o.element)||{};a in f||(f[a]=[]),f[a].push(e),he.set(o.element,f)}function Be(o,a){var e=he.get(o.element)||{};return e[a]||[]}function ze(o,a,e){var f=he.get(o.element)||{};if(!f[a])return!0;if(!e)return f[a]=[],he.set(o.element,f),!0;var h=f[a].indexOf(e);return h!==-1&&f[a].splice(h,1),he.set(o.element,f),f[a]&&f[a].length===0}function kn(o,a){var e=Be(o,a);if(e.length<1)return!1;var f=e.shift();return ze(o,a,f),f}function Nn(o,a){var e=he.get(o);he.set(a,e),he.delete(o)}function Ge(o){if(typeof o=="string")try{o=JSON.parse(o)}catch(a){return console.warn(a),{}}return o}function ge(o,a,e){if(!(!o.element.contentWindow||!o.element.contentWindow.postMessage)){var f={method:a};e!==void 0&&(f.value=e);var h=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));h>=8&&h<10&&(f=JSON.stringify(f)),o.element.contentWindow.postMessage(f,o.origin)}}function Ln(o,a){a=Ge(a);var e=[],f;if(a.event){if(a.event==="error"){var h=Be(o,a.data.method);h.forEach(function(O){var E=new Error(a.data.message);E.name=a.data.name,O.reject(E),ze(o,a.data.method,O)})}e=Be(o,"event:".concat(a.event)),f=a.data}else if(a.method){var w=kn(o,a.method);w&&(e.push(w),f=a.value)}e.forEach(function(O){try{if(typeof O=="function"){O.call(o,f);return}O.resolve(f)}catch{}})}var In=["airplay","audio_tracks","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","play_button_position","playsinline","portrait","progress_bar","quality_selector","responsive","speed","start_time","texttrack","title","transcript","transparent","url","vimeo_logo","volume","watch_full_video","width"];function _t(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return In.reduce(function(e,f){var h=o.getAttribute("data-vimeo-".concat(f));return(h||h==="")&&(e[f]=h===""?1:h),e},a)}function dt(o,a){var e=o.html;if(!a)throw new TypeError("An element must be provided");if(a.getAttribute("data-vimeo-initialized")!==null)return a.querySelector("iframe");var f=document.createElement("div");return f.innerHTML=e,a.appendChild(f.firstChild),a.setAttribute("data-vimeo-initialized","true"),a.querySelector("iframe")}function Rt(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;return new Promise(function(f,h){if(!be(o))throw new TypeError("â".concat(o,"â is not a vimeo.com url."));var w=Sn(o),O="https://".concat(w,"/api/oembed.json?url=").concat(encodeURIComponent(o));for(var E in a)a.hasOwnProperty(E)&&(O+="&".concat(E,"=").concat(encodeURIComponent(a[E])));var M="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;M.open("GET",O,!0),M.onload=function(){if(M.status===404){h(new Error("â".concat(o,"â was not found.")));return}if(M.status===403){h(new Error("â".concat(o,"â is not embeddable.")));return}try{var x=JSON.parse(M.responseText);if(x.domain_status_code===403){dt(x,e),h(new Error("â".concat(o,"â is not embeddable.")));return}f(x)}catch(P){h(P)}},M.onerror=function(){var x=M.status?" (".concat(M.status,")"):"";h(new Error("There was an error fetching the embed code from Vimeo".concat(x,".")))},M.send()})}function Pn(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,a=[].slice.call(o.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),e=function(h){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(h))};a.forEach(function(f){try{if(f.getAttribute("data-vimeo-defer")!==null)return;var h=_t(f),w=Yt(h);Rt(w,h,f).then(function(O){return dt(O,f)}).catch(e)}catch(O){e(O)}})}function An(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var a=function(f){if(be(f.origin)&&!(!f.data||f.data.event!=="spacechange")){for(var h=o.querySelectorAll("iframe"),w=0;w<h.length;w++)if(h[w].contentWindow===f.source){var O=h[w].parentElement;O.style.paddingBottom="".concat(f.data.data[0].bottom,"px");break}}};window.addEventListener("message",a)}}function Fn(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var a=function(f){if(be(f.origin)){var h=Ge(f.data);if(!(!h||h.event!=="ready"))for(var w=o.querySelectorAll("iframe"),O=0;O<w.length;O++){var E=w[O],M=E.contentWindow===f.source;if(Ht(E.src)&&M){var x=new jt(E);x.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",a)}}function Hn(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var a=function(h){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(h))},e=function(h){if(be(h.origin)){var w=Ge(h.data);if(!(!w||w.event!=="ready"))for(var O=o.querySelectorAll("iframe"),E=function(){var P=O[M],F=P.contentWindow===h.source;if(Ht(P.src)&&F){var k=new jt(P);k.getVideoId().then(function(Y){var I=new RegExp("[?&]vimeo_t_".concat(Y,"=([^&#]*)")).exec(window.location.href);if(I&&I[1]){var i=decodeURI(I[1]);k.setCurrentTime(i)}}).catch(a)}},M=0;M<O.length;M++)E()}};window.addEventListener("message",e)}}function Yn(){var o=function(){for(var f,h=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],w=0,O=h.length,E={};w<O;w++)if(f=h[w],f&&f[1]in document){for(w=0;w<f.length;w++)E[h[0][w]]=f[w];return E}return!1}(),a={fullscreenchange:o.fullscreenchange,fullscreenerror:o.fullscreenerror},e={request:function(h){return new Promise(function(w,O){var E=function x(){e.off("fullscreenchange",x),w()};e.on("fullscreenchange",E),h=h||document.documentElement;var M=h[o.requestFullscreen]();M instanceof Promise&&M.then(E).catch(O)})},exit:function(){return new Promise(function(h,w){if(!e.isFullscreen){h();return}var O=function M(){e.off("fullscreenchange",M),h()};e.on("fullscreenchange",O);var E=document[o.exitFullscreen]();E instanceof Promise&&E.then(O).catch(w)})},on:function(h,w){var O=a[h];O&&document.addEventListener(O,w)},off:function(h,w){var O=a[h];O&&document.removeEventListener(O,w)}};return Object.defineProperties(e,{isFullscreen:{get:function(){return!!document[o.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[o.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[o.fullscreenEnabled]}}}),e}var _n={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},Rn=function(o){yn(e,o);var a=Cn(e);function e(f,h){var w,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments.length>3?arguments[3]:void 0;return Lt(this,e),w=a.call(this),je(We(w),"logger",void 0),je(We(w),"speedAdjustment",0),je(We(w),"adjustSpeed",function(){var M=ve(ee().mark(function x(P,F){var k;return ee().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(w.speedAdjustment!==F){I.next=2;break}return I.abrupt("return");case 2:return I.next=4,P.getPlaybackRate();case 4:return I.t0=I.sent,I.t1=w.speedAdjustment,I.t2=I.t0-I.t1,I.t3=F,k=I.t2+I.t3,w.log("New playbackRate:  ".concat(k)),I.next=12,P.setPlaybackRate(k);case 12:w.speedAdjustment=F;case 13:case"end":return I.stop()}},x)}));return function(x,P){return M.apply(this,arguments)}}()),w.logger=E,w.init(h,f,Ct(Ct({},_n),O)),w}return It(e,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var f=ve(ee().mark(function w(O,E,M){var x=this,P,F,k;return ee().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,this.waitForTOReadyState(O,"open");case 2:if(M.role!=="viewer"){I.next=10;break}return I.next=5,this.updatePlayer(O,E,M);case 5:P=St(O,"change",function(){return x.updatePlayer(O,E,M)}),F=this.maintainPlaybackPosition(O,E,M),this.addEventListener("disconnect",function(){F.cancel(),P.cancel()}),I.next=14;break;case 10:return I.next=12,this.updateTimingObject(O,E);case 12:k=St(E,["seeked","play","pause","ratechange"],function(){return x.updateTimingObject(O,E)},"on","off"),this.addEventListener("disconnect",function(){return k.cancel()});case 14:case"end":return I.stop()}},w,this)}));function h(w,O,E){return f.apply(this,arguments)}return h}()},{key:"updateTimingObject",value:function(){var f=ve(ee().mark(function w(O,E){return ee().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.t0=O,x.next=3,E.getCurrentTime();case 3:return x.t1=x.sent,x.next=6,E.getPaused();case 6:if(!x.sent){x.next=10;break}x.t2=0,x.next=13;break;case 10:return x.next=12,E.getPlaybackRate();case 12:x.t2=x.sent;case 13:x.t3=x.t2,x.t4={position:x.t1,velocity:x.t3},x.t0.update.call(x.t0,x.t4);case 16:case"end":return x.stop()}},w)}));function h(w,O){return f.apply(this,arguments)}return h}()},{key:"updatePlayer",value:function(){var f=ve(ee().mark(function w(O,E,M){var x,P,F;return ee().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(x=O.query(),P=x.position,F=x.velocity,typeof P=="number"&&E.setCurrentTime(P),typeof F!="number"){Y.next=25;break}if(F!==0){Y.next=11;break}return Y.next=6,E.getPaused();case 6:if(Y.t0=Y.sent,Y.t0!==!1){Y.next=9;break}E.pause();case 9:Y.next=25;break;case 11:if(!(F>0)){Y.next=25;break}return Y.next=14,E.getPaused();case 14:if(Y.t1=Y.sent,Y.t1!==!0){Y.next=19;break}return Y.next=18,E.play().catch(function(){var I=ve(ee().mark(function i(s){return ee().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s.name==="NotAllowedError"&&M.autoPlayMuted)){n.next=5;break}return n.next=3,E.setMuted(!0);case 3:return n.next=5,E.play().catch(function(l){return console.error("Couldn't play the video from TimingSrcConnector. Error:",l)});case 5:case"end":return n.stop()}},i)}));return function(i){return I.apply(this,arguments)}}());case 18:this.updatePlayer(O,E,M);case 19:return Y.next=21,E.getPlaybackRate();case 21:if(Y.t2=Y.sent,Y.t3=F,Y.t2===Y.t3){Y.next=25;break}E.setPlaybackRate(F);case 25:case"end":return Y.stop()}},w,this)}));function h(w,O,E){return f.apply(this,arguments)}return h}()},{key:"maintainPlaybackPosition",value:function(h,w,O){var E=this,M=O.allowedDrift,x=O.maxAllowedDrift,P=O.minCheckInterval,F=O.maxRateAdjustment,k=O.maxTimeToCatchUp,Y=Math.min(k,Math.max(P,x))*1e3,I=function(){var s=ve(ee().mark(function t(){var n,l,p,y,m;return ee().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=h.query().velocity===0,r.t0){r.next=6;break}return r.next=4,w.getPaused();case 4:r.t1=r.sent,r.t0=r.t1===!0;case 6:if(!r.t0){r.next=8;break}return r.abrupt("return");case 8:return r.t2=h.query().position,r.next=11,w.getCurrentTime();case 11:if(r.t3=r.sent,n=r.t2-r.t3,l=Math.abs(n),E.log("Drift: ".concat(n)),!(l>x)){r.next=22;break}return r.next=18,E.adjustSpeed(w,0);case 18:w.setCurrentTime(h.query().position),E.log("Resync by currentTime"),r.next=29;break;case 22:if(!(l>M)){r.next=29;break}return p=l/k,y=F,m=p<y?(y-p)/2:y,r.next=28,E.adjustSpeed(w,m*Math.sign(n));case 28:E.log("Resync by playbackRate");case 29:case"end":return r.stop()}},t)}));return function(){return s.apply(this,arguments)}}(),i=setInterval(function(){return I()},Y);return{cancel:function(){return clearInterval(i)}}}},{key:"log",value:function(h){var w;(w=this.logger)===null||w===void 0||w.call(this,"TimingSrcConnector: ".concat(h))}},{key:"waitForTOReadyState",value:function(h,w){return new Promise(function(O){var E=function M(){h.readyState===w?O():h.addEventListener("readystatechange",M,{once:!0})};E()})}}]),e}(lt(EventTarget)),Ce=new WeakMap,tt=new WeakMap,te={},jt=function(){function o(a){var e=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Lt(this,o),window.jQuery&&a instanceof jQuery&&(a.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),a=a[0]),typeof document<"u"&&typeof a=="string"&&(a=document.getElementById(a)),!On(a))throw new TypeError("You must pass either a valid element or a valid id.");if(a.nodeName!=="IFRAME"){var h=a.querySelector("iframe");h&&(a=h)}if(a.nodeName==="IFRAME"&&!be(a.getAttribute("src")||""))throw new Error("The player element passed isnât a Vimeo embed.");if(Ce.has(a))return Ce.get(a);this._window=a.ownerDocument.defaultView,this.element=a,this.origin="*";var w=new re(function(E,M){if(e._onMessage=function(F){if(!(!be(F.origin)||e.element.contentWindow!==F.source)){e.origin==="*"&&(e.origin=F.origin);var k=Ge(F.data),Y=k&&k.event==="error",I=Y&&k.data&&k.data.method==="ready";if(I){var i=new Error(k.data.message);i.name=k.data.name,M(i);return}var s=k&&k.event==="ready",t=k&&k.method==="ping";if(s||t){e.element.setAttribute("data-ready","true"),E();return}Ln(e,k)}},e._window.addEventListener("message",e._onMessage),e.element.nodeName!=="IFRAME"){var x=_t(a,f),P=Yt(x);Rt(P,x,a).then(function(F){var k=dt(F,a);return e.element=k,e._originalElement=a,Nn(a,k),Ce.set(e.element,e),F}).catch(M)}});if(tt.set(this,w),Ce.set(this.element,this),this.element.nodeName==="IFRAME"&&ge(this,"ping"),te.isEnabled){var O=function(){return te.exit()};this.fullscreenchangeHandler=function(){te.isFullscreen?xe(e,"event:exitFullscreen",O):ze(e,"event:exitFullscreen",O),e.ready().then(function(){ge(e,"fullscreenchange",te.isFullscreen)})},te.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return It(o,[{key:"callMethod",value:function(e){var f=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new re(function(w,O){return f.ready().then(function(){xe(f,e,{resolve:w,reject:O}),ge(f,e,h)}).catch(O)})}},{key:"get",value:function(e){var f=this;return new re(function(h,w){return e=Dt(e,"get"),f.ready().then(function(){xe(f,e,{resolve:h,reject:w}),ge(f,e)}).catch(w)})}},{key:"set",value:function(e,f){var h=this;return new re(function(w,O){if(e=Dt(e,"set"),f==null)throw new TypeError("There must be a value to set.");return h.ready().then(function(){xe(h,e,{resolve:w,reject:O}),ge(h,e,f)}).catch(O)})}},{key:"on",value:function(e,f){if(!e)throw new TypeError("You must pass an event name.");if(!f)throw new TypeError("You must pass a callback function.");if(typeof f!="function")throw new TypeError("The callback must be a function.");var h=Be(this,"event:".concat(e));h.length===0&&this.callMethod("addEventListener",e).catch(function(){}),xe(this,"event:".concat(e),f)}},{key:"off",value:function(e,f){if(!e)throw new TypeError("You must pass an event name.");if(f&&typeof f!="function")throw new TypeError("The callback must be a function.");var h=ze(this,"event:".concat(e),f);h&&this.callMethod("removeEventListener",e).catch(function(w){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=tt.get(this)||new re(function(f,h){h(new Error("Unknown player. Probably unloaded."))});return re.resolve(e)}},{key:"addCuePoint",value:function(e){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:f})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,f){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:f})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return te.isEnabled?te.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return te.isEnabled?te.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return te.isEnabled?re.resolve(te.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new re(function(f){if(tt.delete(e),Ce.delete(e.element),e._originalElement&&(Ce.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&e.element.nodeName==="IFRAME"&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&e.element.nodeName==="DIV"&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var h=e.element.querySelector("iframe");h&&h.parentNode&&(h.parentNode.parentNode&&e._originalElement&&e._originalElement!==h.parentNode?h.parentNode.parentNode.removeChild(h.parentNode):h.parentNode.removeChild(h))}e._window.removeEventListener("message",e._onMessage),te.isEnabled&&te.off("fullscreenchange",e.fullscreenchangeHandler),f()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return re.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new re(function(w,O){return O(new TypeError("Argument must be an array."))});var f=new re(function(w){return w(null)}),h=[e[0]?this.set("colorOne",e[0]):f,e[1]?this.set("colorTwo",e[1]):f,e[2]?this.set("colorThree",e[2]):f,e[3]?this.set("colorFour",e[3]):f];return re.all(h)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:function(){var a=ve(ee().mark(function f(h,w){var O=this,E;return ee().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(h){x.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return x.next=4,this.ready();case 4:return E=new Rn(this,h,w),ge(this,"notifyTimingObjectConnect"),E.addEventListener("disconnect",function(){return ge(O,"notifyTimingObjectDisconnect")}),x.abrupt("return",E);case 8:case"end":return x.stop()}},f,this)}));function e(f,h){return a.apply(this,arguments)}return e}()}]),o}();Ft||(te=Yn(),Pn(),An(),Fn(),Hn());var Xt="Expected a function",Mt=0/0,jn="[object Symbol]",Xn=/^\s+|\s+$/g,Wn=/^[-+]0x[0-9a-f]+$/i,Bn=/^0b[01]+$/i,zn=/^0o[0-7]+$/i,qn=parseInt,Vn=typeof de=="object"&&de&&de.Object===Object&&de,Un=typeof self=="object"&&self&&self.Object===Object&&self,Gn=Vn||Un||Function("return this")(),Zn=Object.prototype,Kn=Zn.toString,$n=Math.max,Jn=Math.min,nt=function(){return Gn.Date.now()};function Qn(o,a,e){var f,h,w,O,E,M,x=0,P=!1,F=!1,k=!0;if(typeof o!="function")throw new TypeError(Xt);a=xt(a)||0,qe(e)&&(P=!!e.leading,F="maxWait"in e,w=F?$n(xt(e.maxWait)||0,a):w,k="trailing"in e?!!e.trailing:k);function Y(m){var g=f,r=h;return f=h=void 0,x=m,O=o.apply(r,g),O}function I(m){return x=m,E=setTimeout(t,a),P?Y(m):O}function i(m){var g=m-M,r=m-x,d=a-g;return F?Jn(d,w-r):d}function s(m){var g=m-M,r=m-x;return M===void 0||g>=a||g<0||F&&r>=w}function t(){var m=nt();if(s(m))return n(m);E=setTimeout(t,i(m))}function n(m){return E=void 0,k&&f?Y(m):(f=h=void 0,O)}function l(){E!==void 0&&clearTimeout(E),x=0,f=M=h=E=void 0}function p(){return E===void 0?O:n(nt())}function y(){var m=nt(),g=s(m);if(f=arguments,h=this,M=m,g){if(E===void 0)return I(M);if(F)return E=setTimeout(t,a),Y(M)}return E===void 0&&(E=setTimeout(t,a)),O}return y.cancel=l,y.flush=p,y}function ei(o,a,e){var f=!0,h=!0;if(typeof o!="function")throw new TypeError(Xt);return qe(e)&&(f="leading"in e?!!e.leading:f,h="trailing"in e?!!e.trailing:h),Qn(o,a,{leading:f,maxWait:a,trailing:h})}function qe(o){var a=typeof o;return!!o&&(a=="object"||a=="function")}function ti(o){return!!o&&typeof o=="object"}function ni(o){return typeof o=="symbol"||ti(o)&&Kn.call(o)==jn}function xt(o){if(typeof o=="number")return o;if(ni(o))return Mt;if(qe(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=qe(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=o.replace(Xn,"");var e=Bn.test(o);return e||zn.test(o)?qn(o.slice(2),e?2:8):Wn.test(o)?Mt:+o}var ii=ei;const hi=Ue(ii);var it=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Oe={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(o){return typeof console<"u"&&console.warn(o)},getWeek:function(o){var a=new Date(o.getTime());a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7);var e=new Date(a.getFullYear(),0,4);return 1+Math.round(((a.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Le={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(o){var a=o%100;if(a>3&&a<21)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ne=function(o,a){return a===void 0&&(a=2),("000"+o).slice(a*-1)},se=function(o){return o===!0?1:0};function Tt(o,a){var e;return function(){var f=this,h=arguments;clearTimeout(e),e=setTimeout(function(){return o.apply(f,h)},a)}}var ot=function(o){return o instanceof Array?o:[o]};function Q(o,a,e){if(e===!0)return o.classList.add(a);o.classList.remove(a)}function q(o,a,e){var f=window.document.createElement(o);return a=a||"",e=e||"",f.className=a,e!==void 0&&(f.textContent=e),f}function _e(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Wt(o,a){if(a(o))return o;if(o.parentNode)return Wt(o.parentNode,a)}function Re(o,a){var e=q("div","numInputWrapper"),f=q("input","numInput "+o),h=q("span","arrowUp"),w=q("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?f.type="number":(f.type="text",f.pattern="\\d*"),a!==void 0)for(var O in a)f.setAttribute(O,a[O]);return e.appendChild(f),e.appendChild(h),e.appendChild(w),e}function oe(o){try{if(typeof o.composedPath=="function"){var a=o.composedPath();return a[0]}return o.target}catch{return o.target}}var at=function(){},Ve=function(o,a,e){return e.months[a?"shorthand":"longhand"][o]},oi={D:at,F:function(o,a,e){o.setMonth(e.months.longhand.indexOf(a))},G:function(o,a){o.setHours((o.getHours()>=12?12:0)+parseFloat(a))},H:function(o,a){o.setHours(parseFloat(a))},J:function(o,a){o.setDate(parseFloat(a))},K:function(o,a,e){o.setHours(o.getHours()%12+12*se(new RegExp(e.amPM[1],"i").test(a)))},M:function(o,a,e){o.setMonth(e.months.shorthand.indexOf(a))},S:function(o,a){o.setSeconds(parseFloat(a))},U:function(o,a){return new Date(parseFloat(a)*1e3)},W:function(o,a,e){var f=parseInt(a),h=new Date(o.getFullYear(),0,2+(f-1)*7,0,0,0,0);return h.setDate(h.getDate()-h.getDay()+e.firstDayOfWeek),h},Y:function(o,a){o.setFullYear(parseFloat(a))},Z:function(o,a){return new Date(a)},d:function(o,a){o.setDate(parseFloat(a))},h:function(o,a){o.setHours((o.getHours()>=12?12:0)+parseFloat(a))},i:function(o,a){o.setMinutes(parseFloat(a))},j:function(o,a){o.setDate(parseFloat(a))},l:at,m:function(o,a){o.setMonth(parseFloat(a)-1)},n:function(o,a){o.setMonth(parseFloat(a)-1)},s:function(o,a){o.setSeconds(parseFloat(a))},u:function(o,a){return new Date(parseFloat(a))},w:at,y:function(o,a){o.setFullYear(2e3+parseFloat(a))}},ye={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Te={Z:function(o){return o.toISOString()},D:function(o,a,e){return a.weekdays.shorthand[Te.w(o,a,e)]},F:function(o,a,e){return Ve(Te.n(o,a,e)-1,!1,a)},G:function(o,a,e){return ne(Te.h(o,a,e))},H:function(o){return ne(o.getHours())},J:function(o,a){return a.ordinal!==void 0?o.getDate()+a.ordinal(o.getDate()):o.getDate()},K:function(o,a){return a.amPM[se(o.getHours()>11)]},M:function(o,a){return Ve(o.getMonth(),!0,a)},S:function(o){return ne(o.getSeconds())},U:function(o){return o.getTime()/1e3},W:function(o,a,e){return e.getWeek(o)},Y:function(o){return ne(o.getFullYear(),4)},d:function(o){return ne(o.getDate())},h:function(o){return o.getHours()%12?o.getHours()%12:12},i:function(o){return ne(o.getMinutes())},j:function(o){return o.getDate()},l:function(o,a){return a.weekdays.longhand[o.getDay()]},m:function(o){return ne(o.getMonth()+1)},n:function(o){return o.getMonth()+1},s:function(o){return o.getSeconds()},u:function(o){return o.getTime()},w:function(o){return o.getDay()},y:function(o){return String(o.getFullYear()).substring(2)}},Bt=function(o){var a=o.config,e=a===void 0?Oe:a,f=o.l10n,h=f===void 0?Le:f,w=o.isMobile,O=w===void 0?!1:w;return function(E,M,x){var P=x||h;return e.formatDate!==void 0&&!O?e.formatDate(E,M,P):M.split("").map(function(F,k,Y){return Te[F]&&Y[k-1]!=="\\"?Te[F](E,P,e):F!=="\\"?F:""}).join("")}},ct=function(o){var a=o.config,e=a===void 0?Oe:a,f=o.l10n,h=f===void 0?Le:f;return function(w,O,E,M){if(!(w!==0&&!w)){var x=M||h,P,F=w;if(w instanceof Date)P=new Date(w.getTime());else if(typeof w!="string"&&w.toFixed!==void 0)P=new Date(w);else if(typeof w=="string"){var k=O||(e||Oe).dateFormat,Y=String(w).trim();if(Y==="today")P=new Date,E=!0;else if(e&&e.parseDate)P=e.parseDate(w,k);else if(/Z$/.test(Y)||/GMT$/.test(Y))P=new Date(w);else{for(var I=void 0,i=[],s=0,t=0,n="";s<k.length;s++){var l=k[s],p=l==="\\",y=k[s-1]==="\\"||p;if(ye[l]&&!y){n+=ye[l];var m=new RegExp(n).exec(w);m&&(I=!0)&&i[l!=="Y"?"push":"unshift"]({fn:oi[l],val:m[++t]})}else p||(n+=".")}P=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),i.forEach(function(g){var r=g.fn,d=g.val;return P=r(P,d,x)||P}),P=I?P:void 0}}if(!(P instanceof Date&&!isNaN(P.getTime()))){e.errorHandler(new Error("Invalid date provided: "+F));return}return E===!0&&P.setHours(0,0,0,0),P}}};function ae(o,a,e){return e===void 0&&(e=!0),e!==!1?new Date(o.getTime()).setHours(0,0,0,0)-new Date(a.getTime()).setHours(0,0,0,0):o.getTime()-a.getTime()}var ai=function(o,a,e){return o>Math.min(a,e)&&o<Math.max(a,e)},rt=function(o,a,e){return o*3600+a*60+e},ri=function(o){var a=Math.floor(o/3600),e=(o-a*3600)/60;return[a,e,o-a*3600-e*60]},si={DAY:864e5};function st(o){var a=o.defaultHour,e=o.defaultMinute,f=o.defaultSeconds;if(o.minDate!==void 0){var h=o.minDate.getHours(),w=o.minDate.getMinutes(),O=o.minDate.getSeconds();a<h&&(a=h),a===h&&e<w&&(e=w),a===h&&e===w&&f<O&&(f=o.minDate.getSeconds())}if(o.maxDate!==void 0){var E=o.maxDate.getHours(),M=o.maxDate.getMinutes();a=Math.min(a,E),a===E&&(e=Math.min(M,e)),a===E&&e===M&&(f=o.maxDate.getSeconds())}return{hours:a,minutes:e,seconds:f}}typeof Object.assign!="function"&&(Object.assign=function(o){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];if(!o)throw TypeError("Cannot convert undefined or null to object");for(var f=function(E){E&&Object.keys(E).forEach(function(M){return o[M]=E[M]})},h=0,w=a;h<w.length;h++){var O=w[h];f(O)}return o});var J=globalThis&&globalThis.__assign||function(){return J=Object.assign||function(o){for(var a,e=1,f=arguments.length;e<f;e++){a=arguments[e];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(o[h]=a[h])}return o},J.apply(this,arguments)},kt=globalThis&&globalThis.__spreadArrays||function(){for(var o=0,a=0,e=arguments.length;a<e;a++)o+=arguments[a].length;for(var f=Array(o),h=0,a=0;a<e;a++)for(var w=arguments[a],O=0,E=w.length;O<E;O++,h++)f[h]=w[O];return f},li=300;function ci(o,a){var e={config:J(J({},Oe),$.defaultConfig),l10n:Le};e.parseDate=ct({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=i,e._setHoursFromDate=k,e._positionCalendar=Fe,e.changeMonth=le,e.changeYear=Ie,e.clear=pe,e.close=ue,e.onMouseOver=Ae,e._createElement=q,e.createDay=m,e.destroy=Vt,e.isEnabled=me,e.jumpToDate=n,e.updateValue=fe,e.open=Zt,e.redraw=mt,e.set=Qt,e.setDate=en,e.toggle=an;function f(){e.utils={getDaysInMonth:function(c,u){return c===void 0&&(c=e.currentMonth),u===void 0&&(u=e.currentYear),c===1&&(u%4===0&&u%100!==0||u%400===0)?29:e.l10n.daysInMonth[c]}}}function h(){e.element=e.input=o,e.isOpen=!1,Kt(),pt(),nn(),tn(),f(),e.isMobile||y(),t(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&k(e.config.noCalendar?e.latestSelectedDateObj:void 0),fe(!1)),E();var c=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&c&&Fe(),G("onReady")}function w(){var c;return((c=e.calendarContainer)===null||c===void 0?void 0:c.getRootNode()).activeElement||document.activeElement}function O(c){return c.bind(e)}function E(){var c=e.config;c.weekNumbers===!1&&c.showMonths===1||c.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var u=(e.days.offsetWidth+1)*c.showMonths;e.daysContainer.style.width=u+"px",e.calendarContainer.style.width=u+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function M(c){if(e.selectedDates.length===0){var u=e.config.minDate===void 0||ae(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),b=st(e.config);u.setHours(b.hours,b.minutes,b.seconds,u.getMilliseconds()),e.selectedDates=[u],e.latestSelectedDateObj=u}c!==void 0&&c.type!=="blur"&&ln(c);var D=e._input.value;F(),fe(),e._input.value!==D&&e._debouncedChange()}function x(c,u){return c%12+12*se(u===e.l10n.amPM[1])}function P(c){switch(c%24){case 0:case 12:return 12;default:return c%12}}function F(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var c=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,u=(parseInt(e.minuteElement.value,10)||0)%60,b=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(c=x(c,e.amPM.textContent));var D=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&ae(e.latestSelectedDateObj,e.config.minDate,!0)===0,N=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&ae(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var H=rt(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),W=rt(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),j=rt(c,u,b);if(j>W&&j<H){var B=ri(H);c=B[0],u=B[1],b=B[2]}}else{if(N){var R=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;c=Math.min(c,R.getHours()),c===R.getHours()&&(u=Math.min(u,R.getMinutes())),u===R.getMinutes()&&(b=Math.min(b,R.getSeconds()))}if(D){var X=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;c=Math.max(c,X.getHours()),c===X.getHours()&&u<X.getMinutes()&&(u=X.getMinutes()),u===X.getMinutes()&&(b=Math.max(b,X.getSeconds()))}}Y(c,u,b)}}function k(c){var u=c||e.latestSelectedDateObj;u&&u instanceof Date&&Y(u.getHours(),u.getMinutes(),u.getSeconds())}function Y(c,u,b){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(c%24,u,b||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=ne(e.config.time_24hr?c:(12+c)%12+12*se(c%12===0)),e.minuteElement.value=ne(u),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[se(c>=12)]),e.secondElement!==void 0&&(e.secondElement.value=ne(b)))}function I(c){var u=oe(c),b=parseInt(u.value)+(c.delta||0);(b/1e3>1||c.key==="Enter"&&!/[^\d]/.test(b.toString()))&&Ie(b)}function i(c,u,b,D){if(u instanceof Array)return u.forEach(function(N){return i(c,N,b,D)});if(c instanceof Array)return c.forEach(function(N){return i(N,u,b,D)});c.addEventListener(u,b,D),e._handlers.push({remove:function(){return c.removeEventListener(u,b,D)}})}function s(){G("onChange")}function t(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(b){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+b+"]"),function(D){return i(D,"click",e[b])})}),e.isMobile){on();return}var c=Tt(Gt,50);if(e._debouncedChange=Tt(s,li),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&i(e.daysContainer,"mouseover",function(b){e.config.mode==="range"&&Ae(oe(b))}),i(e._input,"keydown",ut),e.calendarContainer!==void 0&&i(e.calendarContainer,"keydown",ut),!e.config.inline&&!e.config.static&&i(window,"resize",c),window.ontouchstart!==void 0?i(window.document,"touchstart",Ze):i(window.document,"mousedown",Ze),i(window.document,"focus",Ze,{capture:!0}),e.config.clickOpens===!0&&(i(e._input,"focus",e.open),i(e._input,"click",e.open)),e.daysContainer!==void 0&&(i(e.monthNav,"click",sn),i(e.monthNav,["keyup","increment"],I),i(e.daysContainer,"click",gt)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var u=function(b){return oe(b).select()};i(e.timeContainer,["increment"],M),i(e.timeContainer,"blur",M,{capture:!0}),i(e.timeContainer,"click",l),i([e.hourElement,e.minuteElement],["focus","click"],u),e.secondElement!==void 0&&i(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&i(e.amPM,"click",function(b){M(b)})}e.config.allowInput&&i(e._input,"blur",Ut)}function n(c,u){var b=c!==void 0?e.parseDate(c):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),D=e.currentYear,N=e.currentMonth;try{b!==void 0&&(e.currentYear=b.getFullYear(),e.currentMonth=b.getMonth())}catch(H){H.message="Invalid date supplied: "+b,e.config.errorHandler(H)}u&&e.currentYear!==D&&(G("onYearChange"),C()),u&&(e.currentYear!==D||e.currentMonth!==N)&&G("onMonthChange"),e.redraw()}function l(c){var u=oe(c);~u.className.indexOf("arrow")&&p(c,u.classList.contains("arrowUp")?1:-1)}function p(c,u,b){var D=c&&oe(c),N=b||D&&D.parentNode&&D.parentNode.firstChild,H=$e("increment");H.delta=u,N&&N.dispatchEvent(H)}function y(){var c=window.document.createDocumentFragment();if(e.calendarContainer=q("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(c.appendChild(_()),e.innerContainer=q("div","flatpickr-innerContainer"),e.config.weekNumbers){var u=K(),b=u.weekWrapper,D=u.weekNumbers;e.innerContainer.appendChild(b),e.weekNumbers=D,e.weekWrapper=b}e.rContainer=q("div","flatpickr-rContainer"),e.rContainer.appendChild(V()),e.daysContainer||(e.daysContainer=q("div","flatpickr-days"),e.daysContainer.tabIndex=-1),v(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),c.appendChild(e.innerContainer)}e.config.enableTime&&c.appendChild(z()),Q(e.calendarContainer,"rangeMode",e.config.mode==="range"),Q(e.calendarContainer,"animate",e.config.animate===!0),Q(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(c);var N=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!N&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var H=q("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(H,e.element),H.appendChild(e.element),e.altInput&&H.appendChild(e.altInput),H.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function m(c,u,b,D){var N=me(u,!0),H=q("span",c,u.getDate().toString());return H.dateObj=u,H.$i=D,H.setAttribute("aria-label",e.formatDate(u,e.config.ariaDateFormat)),c.indexOf("hidden")===-1&&ae(u,e.now)===0&&(e.todayDateElem=H,H.classList.add("today"),H.setAttribute("aria-current","date")),N?(H.tabIndex=-1,Je(u)&&(H.classList.add("selected"),e.selectedDateElem=H,e.config.mode==="range"&&(Q(H,"startRange",e.selectedDates[0]&&ae(u,e.selectedDates[0],!0)===0),Q(H,"endRange",e.selectedDates[1]&&ae(u,e.selectedDates[1],!0)===0),c==="nextMonthDay"&&H.classList.add("inRange")))):H.classList.add("flatpickr-disabled"),e.config.mode==="range"&&rn(u)&&!Je(u)&&H.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&c!=="prevMonthDay"&&D%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(u)+"</span>"),G("onDayCreate",H),H}function g(c){c.focus(),e.config.mode==="range"&&Ae(c)}function r(c){for(var u=c>0?0:e.config.showMonths-1,b=c>0?e.config.showMonths:-1,D=u;D!=b;D+=c)for(var N=e.daysContainer.children[D],H=c>0?0:N.children.length-1,W=c>0?N.children.length:-1,j=H;j!=W;j+=c){var B=N.children[j];if(B.className.indexOf("hidden")===-1&&me(B.dateObj))return B}}function d(c,u){for(var b=c.className.indexOf("Month")===-1?c.dateObj.getMonth():e.currentMonth,D=u>0?e.config.showMonths:-1,N=u>0?1:-1,H=b-e.currentMonth;H!=D;H+=N)for(var W=e.daysContainer.children[H],j=b-e.currentMonth===H?c.$i+u:u<0?W.children.length-1:0,B=W.children.length,R=j;R>=0&&R<B&&R!=(u>0?B:-1);R+=N){var X=W.children[R];if(X.className.indexOf("hidden")===-1&&me(X.dateObj)&&Math.abs(c.$i-R)>=Math.abs(u))return g(X)}e.changeMonth(N),T(r(N),0)}function T(c,u){var b=w(),D=Pe(b||document.body),N=c!==void 0?c:D?b:e.selectedDateElem!==void 0&&Pe(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Pe(e.todayDateElem)?e.todayDateElem:r(u>0?1:-1);N===void 0?e._input.focus():D?d(N,u):g(N)}function L(c,u){for(var b=(new Date(c,u,1).getDay()-e.l10n.firstDayOfWeek+7)%7,D=e.utils.getDaysInMonth((u-1+12)%12,c),N=e.utils.getDaysInMonth(u,c),H=window.document.createDocumentFragment(),W=e.config.showMonths>1,j=W?"prevMonthDay hidden":"prevMonthDay",B=W?"nextMonthDay hidden":"nextMonthDay",R=D+1-b,X=0;R<=D;R++,X++)H.appendChild(m("flatpickr-day "+j,new Date(c,u-1,R),R,X));for(R=1;R<=N;R++,X++)H.appendChild(m("flatpickr-day",new Date(c,u,R),R,X));for(var U=N+1;U<=42-b&&(e.config.showMonths===1||X%7!==0);U++,X++)H.appendChild(m("flatpickr-day "+B,new Date(c,u+1,U%N),U,X));var ce=q("div","dayContainer");return ce.appendChild(H),ce}function v(){if(e.daysContainer!==void 0){_e(e.daysContainer),e.weekNumbers&&_e(e.weekNumbers);for(var c=document.createDocumentFragment(),u=0;u<e.config.showMonths;u++){var b=new Date(e.currentYear,e.currentMonth,1);b.setMonth(e.currentMonth+u),c.appendChild(L(b.getFullYear(),b.getMonth()))}e.daysContainer.appendChild(c),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Ae()}}function C(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var c=function(D){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&D<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&D>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var u=0;u<12;u++)if(c(u)){var b=q("option","flatpickr-monthDropdown-month");b.value=new Date(e.currentYear,u).getMonth().toString(),b.textContent=Ve(u,e.config.shorthandCurrentMonth,e.l10n),b.tabIndex=-1,e.currentMonth===u&&(b.selected=!0),e.monthsDropdownContainer.appendChild(b)}}}function S(){var c=q("div","flatpickr-month"),u=window.document.createDocumentFragment(),b;e.config.showMonths>1||e.config.monthSelectorType==="static"?b=q("span","cur-month"):(e.monthsDropdownContainer=q("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),i(e.monthsDropdownContainer,"change",function(W){var j=oe(W),B=parseInt(j.value,10);e.changeMonth(B-e.currentMonth),G("onMonthChange")}),C(),b=e.monthsDropdownContainer);var D=Re("cur-year",{tabindex:"-1"}),N=D.getElementsByTagName("input")[0];N.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&N.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(N.setAttribute("max",e.config.maxDate.getFullYear().toString()),N.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var H=q("div","flatpickr-current-month");return H.appendChild(b),H.appendChild(D),u.appendChild(H),c.appendChild(u),{container:c,yearElement:N,monthElement:b}}function A(){_e(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var c=e.config.showMonths;c--;){var u=S();e.yearElements.push(u.yearElement),e.monthElements.push(u.monthElement),e.monthNav.appendChild(u.container)}e.monthNav.appendChild(e.nextMonthNav)}function _(){return e.monthNav=q("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=q("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=q("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,A(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(c){e.__hidePrevMonthArrow!==c&&(Q(e.prevMonthNav,"flatpickr-disabled",c),e.__hidePrevMonthArrow=c)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(c){e.__hideNextMonthArrow!==c&&(Q(e.nextMonthNav,"flatpickr-disabled",c),e.__hideNextMonthArrow=c)}}),e.currentYearElement=e.yearElements[0],Ye(),e.monthNav}function z(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var c=st(e.config);e.timeContainer=q("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var u=q("span","flatpickr-time-separator",":"),b=Re("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=b.getElementsByTagName("input")[0];var D=Re("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=D.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=ne(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?c.hours:P(c.hours)),e.minuteElement.value=ne(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():c.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(b),e.timeContainer.appendChild(u),e.timeContainer.appendChild(D),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var N=Re("flatpickr-second");e.secondElement=N.getElementsByTagName("input")[0],e.secondElement.value=ne(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():c.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(q("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(N)}return e.config.time_24hr||(e.amPM=q("span","flatpickr-am-pm",e.l10n.amPM[se((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function V(){e.weekdayContainer?_e(e.weekdayContainer):e.weekdayContainer=q("div","flatpickr-weekdays");for(var c=e.config.showMonths;c--;){var u=q("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(u)}return Z(),e.weekdayContainer}function Z(){if(e.weekdayContainer){var c=e.l10n.firstDayOfWeek,u=kt(e.l10n.weekdays.shorthand);c>0&&c<u.length&&(u=kt(u.splice(c,u.length),u.splice(0,c)));for(var b=e.config.showMonths;b--;)e.weekdayContainer.children[b].innerHTML=`
      <span class='flatpickr-weekday'>
        `+u.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function K(){e.calendarContainer.classList.add("hasWeeks");var c=q("div","flatpickr-weekwrapper");c.appendChild(q("span","flatpickr-weekday",e.l10n.weekAbbreviation));var u=q("div","flatpickr-weeks");return c.appendChild(u),{weekWrapper:c,weekNumbers:u}}function le(c,u){u===void 0&&(u=!0);var b=u?c:c-e.currentMonth;b<0&&e._hidePrevMonthArrow===!0||b>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=b,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,G("onYearChange"),C()),v(),G("onMonthChange"),Ye())}function pe(c,u){if(c===void 0&&(c=!0),u===void 0&&(u=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,u===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var b=st(e.config),D=b.hours,N=b.minutes,H=b.seconds;Y(D,N,H)}e.redraw(),c&&G("onChange")}function ue(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),G("onClose")}function Vt(){e.config!==void 0&&G("onDestroy");for(var c=e._handlers.length;c--;)e._handlers[c].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var u=e.calendarContainer.parentNode;if(u.lastChild&&u.removeChild(u.lastChild),u.parentNode){for(;u.firstChild;)u.parentNode.insertBefore(u.firstChild,u);u.parentNode.removeChild(u)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(b){try{delete e[b]}catch{}})}function Se(c){return e.calendarContainer.contains(c)}function Ze(c){if(e.isOpen&&!e.config.inline){var u=oe(c),b=Se(u),D=u===e.input||u===e.altInput||e.element.contains(u)||c.path&&c.path.indexOf&&(~c.path.indexOf(e.input)||~c.path.indexOf(e.altInput)),N=!D&&!b&&!Se(c.relatedTarget),H=!e.config.ignoredFocusElements.some(function(W){return W.contains(u)});N&&H&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&M(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function Ie(c){if(!(!c||e.config.minDate&&c<e.config.minDate.getFullYear()||e.config.maxDate&&c>e.config.maxDate.getFullYear())){var u=c,b=e.currentYear!==u;e.currentYear=u||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),b&&(e.redraw(),G("onYearChange"),C())}}function me(c,u){var b;u===void 0&&(u=!0);var D=e.parseDate(c,void 0,u);if(e.config.minDate&&D&&ae(D,e.config.minDate,u!==void 0?u:!e.minDateHasTime)<0||e.config.maxDate&&D&&ae(D,e.config.maxDate,u!==void 0?u:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(D===void 0)return!1;for(var N=!!e.config.enable,H=(b=e.config.enable)!==null&&b!==void 0?b:e.config.disable,W=0,j=void 0;W<H.length;W++){if(j=H[W],typeof j=="function"&&j(D))return N;if(j instanceof Date&&D!==void 0&&j.getTime()===D.getTime())return N;if(typeof j=="string"){var B=e.parseDate(j,void 0,!0);return B&&B.getTime()===D.getTime()?N:!N}else if(typeof j=="object"&&D!==void 0&&j.from&&j.to&&D.getTime()>=j.from.getTime()&&D.getTime()<=j.to.getTime())return N}return!N}function Pe(c){return e.daysContainer!==void 0?c.className.indexOf("hidden")===-1&&c.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(c):!1}function Ut(c){var u=c.target===e._input,b=e._input.value.trimEnd()!==Qe();u&&b&&!(c.relatedTarget&&Se(c.relatedTarget))&&e.setDate(e._input.value,!0,c.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function ut(c){var u=oe(c),b=e.config.wrap?o.contains(u):u===e._input,D=e.config.allowInput,N=e.isOpen&&(!D||!b),H=e.config.inline&&b&&!D;if(c.keyCode===13&&b){if(D)return e.setDate(e._input.value,!0,u===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),u.blur();e.open()}else if(Se(u)||N||H){var W=!!e.timeContainer&&e.timeContainer.contains(u);switch(c.keyCode){case 13:W?(c.preventDefault(),M(),Ke()):gt(c);break;case 27:c.preventDefault(),Ke();break;case 8:case 46:b&&!e.config.allowInput&&(c.preventDefault(),e.clear());break;case 37:case 39:if(!W&&!b){c.preventDefault();var j=w();if(e.daysContainer!==void 0&&(D===!1||j&&Pe(j))){var B=c.keyCode===39?1:-1;c.ctrlKey?(c.stopPropagation(),le(B),T(r(1),0)):T(void 0,B)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:c.preventDefault();var R=c.keyCode===40?1:-1;e.daysContainer&&u.$i!==void 0||u===e.input||u===e.altInput?c.ctrlKey?(c.stopPropagation(),Ie(e.currentYear-R),T(r(1),0)):W||T(void 0,R*7):u===e.currentYearElement?Ie(e.currentYear-R):e.config.enableTime&&(!W&&e.hourElement&&e.hourElement.focus(),M(c),e._debouncedChange());break;case 9:if(W){var X=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(ie){return ie}),U=X.indexOf(u);if(U!==-1){var ce=X[U+(c.shiftKey?-1:1)];c.preventDefault(),(ce||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(u)&&c.shiftKey&&(c.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&u===e.amPM)switch(c.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],F(),fe();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],F(),fe();break}(b||Se(u))&&G("onKeyDown",c)}function Ae(c,u){if(u===void 0&&(u="flatpickr-day"),!(e.selectedDates.length!==1||c&&(!c.classList.contains(u)||c.classList.contains("flatpickr-disabled")))){for(var b=c?c.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),D=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),N=Math.min(b,e.selectedDates[0].getTime()),H=Math.max(b,e.selectedDates[0].getTime()),W=!1,j=0,B=0,R=N;R<H;R+=si.DAY)me(new Date(R),!0)||(W=W||R>N&&R<H,R<D&&(!j||R>j)?j=R:R>D&&(!B||R<B)&&(B=R));var X=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+u));X.forEach(function(U){var ce=U.dateObj,ie=ce.getTime(),Me=j>0&&ie<j||B>0&&ie>B;if(Me){U.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(we){U.classList.remove(we)});return}else if(W&&!Me)return;["startRange","inRange","endRange","notAllowed"].forEach(function(we){U.classList.remove(we)}),c!==void 0&&(c.classList.add(b<=e.selectedDates[0].getTime()?"startRange":"endRange"),D<b&&ie===D?U.classList.add("startRange"):D>b&&ie===D&&U.classList.add("endRange"),ie>=j&&(B===0||ie<=B)&&ai(ie,D,b)&&U.classList.add("inRange"))})}}function Gt(){e.isOpen&&!e.config.static&&!e.config.inline&&Fe()}function Zt(c,u){if(u===void 0&&(u=e._positionElement),e.isMobile===!0){if(c){c.preventDefault();var b=oe(c);b&&b.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),G("onOpen");return}else if(e._input.disabled||e.config.inline)return;var D=e.isOpen;e.isOpen=!0,D||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),G("onOpen"),Fe(u)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(c===void 0||!e.timeContainer.contains(c.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function ft(c){return function(u){var b=e.config["_"+c+"Date"]=e.parseDate(u,e.config.dateFormat),D=e.config["_"+(c==="min"?"max":"min")+"Date"];b!==void 0&&(e[c==="min"?"minDateHasTime":"maxDateHasTime"]=b.getHours()>0||b.getMinutes()>0||b.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(N){return me(N)}),!e.selectedDates.length&&c==="min"&&k(b),fe()),e.daysContainer&&(mt(),b!==void 0?e.currentYearElement[c]=b.getFullYear().toString():e.currentYearElement.removeAttribute(c),e.currentYearElement.disabled=!!D&&b!==void 0&&D.getFullYear()===b.getFullYear())}}function Kt(){var c=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],u=J(J({},JSON.parse(JSON.stringify(o.dataset||{}))),a),b={};e.config.parseDate=u.parseDate,e.config.formatDate=u.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(X){e.config._enable=yt(X)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(X){e.config._disable=yt(X)}});var D=u.mode==="time";if(!u.dateFormat&&(u.enableTime||D)){var N=$.defaultConfig.dateFormat||Oe.dateFormat;b.dateFormat=u.noCalendar||D?"H:i"+(u.enableSeconds?":S":""):N+" H:i"+(u.enableSeconds?":S":"")}if(u.altInput&&(u.enableTime||D)&&!u.altFormat){var H=$.defaultConfig.altFormat||Oe.altFormat;b.altFormat=u.noCalendar||D?"h:i"+(u.enableSeconds?":S K":" K"):H+(" h:i"+(u.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:ft("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:ft("max")});var W=function(X){return function(U){e.config[X==="min"?"_minTime":"_maxTime"]=e.parseDate(U,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:W("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:W("max")}),u.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,b,u);for(var j=0;j<c.length;j++)e.config[c[j]]=e.config[c[j]]===!0||e.config[c[j]]==="true";it.filter(function(X){return e.config[X]!==void 0}).forEach(function(X){e.config[X]=ot(e.config[X]||[]).map(O)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var j=0;j<e.config.plugins.length;j++){var B=e.config.plugins[j](e)||{};for(var R in B)it.indexOf(R)>-1?e.config[R]=ot(B[R]).map(O).concat(e.config[R]):typeof u[R]>"u"&&(e.config[R]=B[R])}u.altInputClass||(e.config.altInputClass=ht().className+" "+e.config.altInputClass),G("onParseConfig")}function ht(){return e.config.wrap?o.querySelector("[data-input]"):o}function pt(){typeof e.config.locale!="object"&&typeof $.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=J(J({},$.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?$.l10ns[e.config.locale]:void 0),ye.D="("+e.l10n.weekdays.shorthand.join("|")+")",ye.l="("+e.l10n.weekdays.longhand.join("|")+")",ye.M="("+e.l10n.months.shorthand.join("|")+")",ye.F="("+e.l10n.months.longhand.join("|")+")",ye.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var c=J(J({},a),JSON.parse(JSON.stringify(o.dataset||{})));c.time_24hr===void 0&&$.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Bt(e),e.parseDate=ct({config:e.config,l10n:e.l10n})}function Fe(c){if(typeof e.config.position=="function")return void e.config.position(e,c);if(e.calendarContainer!==void 0){G("onPreCalendarPosition");var u=c||e._positionElement,b=Array.prototype.reduce.call(e.calendarContainer.children,function(gn,vn){return gn+vn.offsetHeight},0),D=e.calendarContainer.offsetWidth,N=e.config.position.split(" "),H=N[0],W=N.length>1?N[1]:null,j=u.getBoundingClientRect(),B=window.innerHeight-j.bottom,R=H==="above"||H!=="below"&&B<b&&j.top>b,X=window.pageYOffset+j.top+(R?-b-2:u.offsetHeight+2);if(Q(e.calendarContainer,"arrowTop",!R),Q(e.calendarContainer,"arrowBottom",R),!e.config.inline){var U=window.pageXOffset+j.left,ce=!1,ie=!1;W==="center"?(U-=(D-j.width)/2,ce=!0):W==="right"&&(U-=D-j.width,ie=!0),Q(e.calendarContainer,"arrowLeft",!ce&&!ie),Q(e.calendarContainer,"arrowCenter",ce),Q(e.calendarContainer,"arrowRight",ie);var Me=window.document.body.offsetWidth-(window.pageXOffset+j.right),we=U+D>window.document.body.offsetWidth,cn=Me+D>window.document.body.offsetWidth;if(Q(e.calendarContainer,"rightMost",we),!e.config.static)if(e.calendarContainer.style.top=X+"px",!we)e.calendarContainer.style.left=U+"px",e.calendarContainer.style.right="auto";else if(!cn)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Me+"px";else{var et=$t();if(et===void 0)return;var dn=window.document.body.offsetWidth,un=Math.max(0,dn/2-D/2),fn=".flatpickr-calendar.centerMost:before",hn=".flatpickr-calendar.centerMost:after",pn=et.cssRules.length,mn="{left:"+j.left+"px;right:auto;}";Q(e.calendarContainer,"rightMost",!1),Q(e.calendarContainer,"centerMost",!0),et.insertRule(fn+","+hn+mn,pn),e.calendarContainer.style.left=un+"px",e.calendarContainer.style.right="auto"}}}}function $t(){for(var c=null,u=0;u<document.styleSheets.length;u++){var b=document.styleSheets[u];if(b.cssRules){try{b.cssRules}catch{continue}c=b;break}}return c??Jt()}function Jt(){var c=document.createElement("style");return document.head.appendChild(c),c.sheet}function mt(){e.config.noCalendar||e.isMobile||(C(),Ye(),v())}function Ke(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function gt(c){c.preventDefault(),c.stopPropagation();var u=function(X){return X.classList&&X.classList.contains("flatpickr-day")&&!X.classList.contains("flatpickr-disabled")&&!X.classList.contains("notAllowed")},b=Wt(oe(c),u);if(b!==void 0){var D=b,N=e.latestSelectedDateObj=new Date(D.dateObj.getTime()),H=(N.getMonth()<e.currentMonth||N.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=D,e.config.mode==="single")e.selectedDates=[N];else if(e.config.mode==="multiple"){var W=Je(N);W?e.selectedDates.splice(parseInt(W),1):e.selectedDates.push(N)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=N,e.selectedDates.push(N),ae(N,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(X,U){return X.getTime()-U.getTime()}));if(F(),H){var j=e.currentYear!==N.getFullYear();e.currentYear=N.getFullYear(),e.currentMonth=N.getMonth(),j&&(G("onYearChange"),C()),G("onMonthChange")}if(Ye(),v(),fe(),!H&&e.config.mode!=="range"&&e.config.showMonths===1?g(D):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var B=e.config.mode==="single"&&!e.config.enableTime,R=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(B||R)&&Ke()}s()}}var He={locale:[pt,Z],showMonths:[A,E,V],minDate:[n],maxDate:[n],positionElement:[bt],clickOpens:[function(){e.config.clickOpens===!0?(i(e._input,"focus",e.open),i(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Qt(c,u){if(c!==null&&typeof c=="object"){Object.assign(e.config,c);for(var b in c)He[b]!==void 0&&He[b].forEach(function(D){return D()})}else e.config[c]=u,He[c]!==void 0?He[c].forEach(function(D){return D()}):it.indexOf(c)>-1&&(e.config[c]=ot(u));e.redraw(),fe(!0)}function vt(c,u){var b=[];if(c instanceof Array)b=c.map(function(D){return e.parseDate(D,u)});else if(c instanceof Date||typeof c=="number")b=[e.parseDate(c,u)];else if(typeof c=="string")switch(e.config.mode){case"single":case"time":b=[e.parseDate(c,u)];break;case"multiple":b=c.split(e.config.conjunction).map(function(D){return e.parseDate(D,u)});break;case"range":b=c.split(e.l10n.rangeSeparator).map(function(D){return e.parseDate(D,u)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(c)));e.selectedDates=e.config.allowInvalidPreload?b:b.filter(function(D){return D instanceof Date&&me(D,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(D,N){return D.getTime()-N.getTime()})}function en(c,u,b){if(u===void 0&&(u=!1),b===void 0&&(b=e.config.dateFormat),c!==0&&!c||c instanceof Array&&c.length===0)return e.clear(u);vt(c,b),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),n(void 0,u),k(),e.selectedDates.length===0&&e.clear(!1),fe(u),u&&G("onChange")}function yt(c){return c.slice().map(function(u){return typeof u=="string"||typeof u=="number"||u instanceof Date?e.parseDate(u,void 0,!0):u&&typeof u=="object"&&u.from&&u.to?{from:e.parseDate(u.from,void 0),to:e.parseDate(u.to,void 0)}:u}).filter(function(u){return u})}function tn(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var c=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);c&&vt(c,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function nn(){if(e.input=ht(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=q(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),bt()}function bt(){e._positionElement=e.config.positionElement||e._input}function on(){var c=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=q("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=c,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=c==="datetime-local"?"Y-m-d\\TH:i:S":c==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}i(e.mobileInput,"change",function(u){e.setDate(oe(u).value,!1,e.mobileFormatStr),G("onChange"),G("onClose")})}function an(c){if(e.isOpen===!0)return e.close();e.open(c)}function G(c,u){if(e.config!==void 0){var b=e.config[c];if(b!==void 0&&b.length>0)for(var D=0;b[D]&&D<b.length;D++)b[D](e.selectedDates,e.input.value,e,u);c==="onChange"&&(e.input.dispatchEvent($e("change")),e.input.dispatchEvent($e("input")))}}function $e(c){var u=document.createEvent("Event");return u.initEvent(c,!0,!0),u}function Je(c){for(var u=0;u<e.selectedDates.length;u++){var b=e.selectedDates[u];if(b instanceof Date&&ae(b,c)===0)return""+u}return!1}function rn(c){return e.config.mode!=="range"||e.selectedDates.length<2?!1:ae(c,e.selectedDates[0])>=0&&ae(c,e.selectedDates[1])<=0}function Ye(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(c,u){var b=new Date(e.currentYear,e.currentMonth,1);b.setMonth(e.currentMonth+u),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[u].textContent=Ve(b.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=b.getMonth().toString(),c.value=b.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Qe(c){var u=c||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(b){return e.formatDate(b,u)}).filter(function(b,D,N){return e.config.mode!=="range"||e.config.enableTime||N.indexOf(b)===D}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function fe(c){c===void 0&&(c=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Qe(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Qe(e.config.altFormat)),c!==!1&&G("onValueUpdate")}function sn(c){var u=oe(c),b=e.prevMonthNav.contains(u),D=e.nextMonthNav.contains(u);b||D?le(b?-1:1):e.yearElements.indexOf(u)>=0?u.select():u.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):u.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function ln(c){c.preventDefault();var u=c.type==="keydown",b=oe(c),D=b;e.amPM!==void 0&&b===e.amPM&&(e.amPM.textContent=e.l10n.amPM[se(e.amPM.textContent===e.l10n.amPM[0])]);var N=parseFloat(D.getAttribute("min")),H=parseFloat(D.getAttribute("max")),W=parseFloat(D.getAttribute("step")),j=parseInt(D.value,10),B=c.delta||(u?c.which===38?1:-1:0),R=j+W*B;if(typeof D.value<"u"&&D.value.length===2){var X=D===e.hourElement,U=D===e.minuteElement;R<N?(R=H+R+se(!X)+(se(X)&&se(!e.amPM)),U&&p(void 0,-1,e.hourElement)):R>H&&(R=D===e.hourElement?R-H-se(!e.amPM):N,U&&p(void 0,1,e.hourElement)),e.amPM&&X&&(W===1?R+j===23:Math.abs(R-j)>W)&&(e.amPM.textContent=e.l10n.amPM[se(e.amPM.textContent===e.l10n.amPM[0])]),D.value=ne(R)}}return h(),e}function De(o,a){for(var e=Array.prototype.slice.call(o).filter(function(O){return O instanceof HTMLElement}),f=[],h=0;h<e.length;h++){var w=e[h];try{if(w.getAttribute("data-fp-omit")!==null)continue;w._flatpickr!==void 0&&(w._flatpickr.destroy(),w._flatpickr=void 0),w._flatpickr=ci(w,a||{}),f.push(w._flatpickr)}catch(O){console.error(O)}}return f.length===1?f[0]:f}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(o){return De(this,o)},HTMLElement.prototype.flatpickr=function(o){return De([this],o)});var $=function(o,a){return typeof o=="string"?De(window.document.querySelectorAll(o),a):o instanceof Node?De([o],a):De(o,a)};$.defaultConfig={};$.l10ns={en:J({},Le),default:J({},Le)};$.localize=function(o){$.l10ns.default=J(J({},$.l10ns.default),o)};$.setDefaults=function(o){$.defaultConfig=J(J({},$.defaultConfig),o)};$.parseDate=ct({});$.formatDate=Bt({});$.compareDates=ae;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(o){return De(this,o)});Date.prototype.fp_incr=function(o){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof o=="string"?parseInt(o,10):o))};typeof window<"u"&&(window.flatpickr=$);var zt={exports:{}};(function(o,a){(function(e,f){o.exports=f(e)})(typeof de<"u"?de:window||de.window||de.global,function(e){var f={},h="iziToast";document.querySelector("body");var w=!!/Mobi/.test(navigator.userAgent),O=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),E=typeof InstallTrigger<"u",M="ontouchstart"in document.documentElement,x=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],P={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},F=568,k={};f.children={};var Y={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var I=function(m,g){g=g||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(m,g.bubbles,g.cancelable,g.detail),r};I.prototype=window.Event.prototype,window.CustomEvent=I}var i=function(m,g,r){if(Object.prototype.toString.call(m)==="[object Object]")for(var d in m)Object.prototype.hasOwnProperty.call(m,d)&&g.call(r,m[d],d,m);else if(m)for(var T=0,L=m.length;T<L;T++)g.call(r,m[T],T,m)},s=function(m,g){var r={};return i(m,function(d,T){r[T]=m[T]}),i(g,function(d,T){r[T]=g[T]}),r},t=function(m){var g=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=m;r.firstChild;)g.appendChild(r.firstChild);return g},n=function(m){var g=btoa(encodeURIComponent(m));return g.replace(/=/g,"")},l=function(m){return m.substring(0,1)=="#"||m.substring(0,3)=="rgb"||m.substring(0,3)=="hsl"},p=function(m){try{return btoa(atob(m))==m}catch{return!1}},y=function(){return{move:function(m,g,r,d){var T,L=.3,v=180;d!==0&&(m.classList.add(h+"-dragged"),m.style.transform="translateX("+d+"px)",d>0?(T=(v-d)/v,T<L&&g.hide(s(r,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),m,"drag")):(T=(v+d)/v,T<L&&g.hide(s(r,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),m,"drag")),m.style.opacity=T,T<L&&((O||E)&&(m.style.left=d+"px"),m.parentNode.style.opacity=L,this.stopMoving(m,null)))},startMoving:function(m,g,r,d){d=d||window.event;var T=M?d.touches[0].clientX:d.clientX,L=m.style.transform.replace("px)","");L=L.replace("translateX(","");var v=T-L;r.transitionIn&&m.classList.remove(r.transitionIn),r.transitionInMobile&&m.classList.remove(r.transitionInMobile),m.style.transition="",M?document.ontouchmove=function(C){C.preventDefault(),C=C||window.event;var S=C.touches[0].clientX,A=S-v;y.move(m,g,r,A)}:document.onmousemove=function(C){C.preventDefault(),C=C||window.event;var S=C.clientX,A=S-v;y.move(m,g,r,A)}},stopMoving:function(m,g){M?document.ontouchmove=function(){}:document.onmousemove=function(){},m.style.opacity="",m.style.transform="",m.classList.contains(h+"-dragged")&&(m.classList.remove(h+"-dragged"),m.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){m.style.transition=""},400))}}}();return f.setSetting=function(m,g,r){f.children[m][g]=r},f.getSetting=function(m,g){return f.children[m][g]},f.destroy=function(){i(document.querySelectorAll("."+h+"-overlay"),function(m,g){m.remove()}),i(document.querySelectorAll("."+h+"-wrapper"),function(m,g){m.remove()}),i(document.querySelectorAll("."+h),function(m,g){m.remove()}),this.children={},document.removeEventListener(h+"-opened",{},!1),document.removeEventListener(h+"-opening",{},!1),document.removeEventListener(h+"-closing",{},!1),document.removeEventListener(h+"-closed",{},!1),document.removeEventListener("keyup",{},!1),k={}},f.settings=function(m){f.destroy(),k=m,Y=s(Y,m||{})},i(P,function(m,g){f[g]=function(r){var d=s(k,r||{});d=s(m,d||{}),this.show(d)}}),f.progress=function(m,g,r){var d=this,T=g.getAttribute("data-iziToast-ref"),L=s(this.children[T],m||{}),v=g.querySelector("."+h+"-progressbar div");return{start:function(){typeof L.time.REMAINING>"u"&&(g.classList.remove(h+"-reseted"),v!==null&&(v.style.transition="width "+L.timeout+"ms "+L.progressBarEasing,v.style.width="0%"),L.time.START=new Date().getTime(),L.time.END=L.time.START+L.timeout,L.time.TIMER=setTimeout(function(){clearTimeout(L.time.TIMER),g.classList.contains(h+"-closing")||(d.hide(L,g,"timeout"),typeof r=="function"&&r.apply(d))},L.timeout),d.setSetting(T,"time",L.time))},pause:function(){if(typeof L.time.START<"u"&&!g.classList.contains(h+"-paused")&&!g.classList.contains(h+"-reseted")){if(g.classList.add(h+"-paused"),L.time.REMAINING=L.time.END-new Date().getTime(),clearTimeout(L.time.TIMER),d.setSetting(T,"time",L.time),v!==null){var C=window.getComputedStyle(v),S=C.getPropertyValue("width");v.style.transition="none",v.style.width=S}typeof r=="function"&&setTimeout(function(){r.apply(d)},10)}},resume:function(){typeof L.time.REMAINING<"u"?(g.classList.remove(h+"-paused"),v!==null&&(v.style.transition="width "+L.time.REMAINING+"ms "+L.progressBarEasing,v.style.width="0%"),L.time.END=new Date().getTime()+L.time.REMAINING,L.time.TIMER=setTimeout(function(){clearTimeout(L.time.TIMER),g.classList.contains(h+"-closing")||(d.hide(L,g,"timeout"),typeof r=="function"&&r.apply(d))},L.time.REMAINING),d.setSetting(T,"time",L.time)):this.start()},reset:function(){clearTimeout(L.time.TIMER),delete L.time.REMAINING,d.setSetting(T,"time",L.time),g.classList.add(h+"-reseted"),g.classList.remove(h+"-paused"),v!==null&&(v.style.transition="none",v.style.width="100%"),typeof r=="function"&&setTimeout(function(){r.apply(d)},10)}}},f.hide=function(m,g,r){typeof g!="object"&&(g=document.querySelector(g));var d=this,T=s(this.children[g.getAttribute("data-iziToast-ref")],m||{});T.closedBy=r||null,delete T.time.REMAINING,g.classList.add(h+"-closing"),function(){var C=document.querySelector("."+h+"-overlay");if(C!==null){var S=C.getAttribute("data-iziToast-ref");S=S.split(",");var A=S.indexOf(String(T.ref));A!==-1&&S.splice(A,1),C.setAttribute("data-iziToast-ref",S.join()),S.length===0&&(C.classList.remove("fadeIn"),C.classList.add("fadeOut"),setTimeout(function(){C.remove()},700))}}(),T.transitionIn&&g.classList.remove(T.transitionIn),T.transitionInMobile&&g.classList.remove(T.transitionInMobile),w||window.innerWidth<=F?T.transitionOutMobile&&g.classList.add(T.transitionOutMobile):T.transitionOut&&g.classList.add(T.transitionOut);var L=g.parentNode.offsetHeight;g.parentNode.style.height=L+"px",g.style.pointerEvents="none",(!w||window.innerWidth>F)&&(g.parentNode.style.transitionDelay="0.2s");try{var v=new CustomEvent(h+"-closing",{detail:T,bubbles:!0,cancelable:!0});document.dispatchEvent(v)}catch(C){console.warn(C)}setTimeout(function(){g.parentNode.style.height="0px",g.parentNode.style.overflow="",setTimeout(function(){delete d.children[T.ref],g.parentNode.remove();try{var C=new CustomEvent(h+"-closed",{detail:T,bubbles:!0,cancelable:!0});document.dispatchEvent(C)}catch(S){console.warn(S)}typeof T.onClosed<"u"&&T.onClosed.apply(null,[T,g,r])},1e3)},200),typeof T.onClosing<"u"&&T.onClosing.apply(null,[T,g,r])},f.show=function(m){var g=this,r=s(k,m||{});if(r=s(Y,r),r.time={},r.id===null&&(r.id=n(r.title+r.message+r.color)),r.displayMode===1||r.displayMode=="once")try{if(document.querySelectorAll("."+h+"#"+r.id).length>0)return!1}catch{console.warn("["+h+"] Could not find an element with this selector: #"+r.id+". Try to set an valid id.")}if(r.displayMode===2||r.displayMode=="replace")try{i(document.querySelectorAll("."+h+"#"+r.id),function(v,C){g.hide(r,v,"replaced")})}catch{console.warn("["+h+"] Could not find an element with this selector: #"+r.id+". Try to set an valid id.")}r.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),f.children[r.ref]=r;var d={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:r.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};d.toast.setAttribute("data-iziToast-ref",r.ref),d.toast.appendChild(d.toastBody),d.toastCapsule.appendChild(d.toast),function(){if(d.toast.classList.add(h),d.toast.classList.add(h+"-opening"),d.toastCapsule.classList.add(h+"-capsule"),d.toastBody.classList.add(h+"-body"),d.toastTexts.classList.add(h+"-texts"),w||window.innerWidth<=F?r.transitionInMobile&&d.toast.classList.add(r.transitionInMobile):r.transitionIn&&d.toast.classList.add(r.transitionIn),r.class){var v=r.class.split(" ");i(v,function(C,S){d.toast.classList.add(C)})}r.id&&(d.toast.id=r.id),r.rtl&&(d.toast.classList.add(h+"-rtl"),d.toast.setAttribute("dir","rtl")),r.layout>1&&d.toast.classList.add(h+"-layout"+r.layout),r.balloon&&d.toast.classList.add(h+"-balloon"),r.maxWidth&&(isNaN(r.maxWidth)?d.toast.style.maxWidth=r.maxWidth:d.toast.style.maxWidth=r.maxWidth+"px"),(r.theme!==""||r.theme!=="light")&&d.toast.classList.add(h+"-theme-"+r.theme),r.color&&(l(r.color)?d.toast.style.background=r.color:d.toast.classList.add(h+"-color-"+r.color)),r.backgroundColor&&(d.toast.style.background=r.backgroundColor,r.balloon&&(d.toast.style.borderColor=r.backgroundColor))}(),function(){r.image&&(d.cover.classList.add(h+"-cover"),d.cover.style.width=r.imageWidth+"px",p(r.image.replace(/ /g,""))?d.cover.style.backgroundImage="url(data:image/png;base64,"+r.image.replace(/ /g,"")+")":d.cover.style.backgroundImage="url("+r.image+")",r.rtl?d.toastBody.style.marginRight=r.imageWidth+10+"px":d.toastBody.style.marginLeft=r.imageWidth+10+"px",d.toast.appendChild(d.cover))}(),function(){r.close?(d.buttonClose=document.createElement("button"),d.buttonClose.type="button",d.buttonClose.classList.add(h+"-close"),d.buttonClose.addEventListener("click",function(v){v.target,g.hide(r,d.toast,"button")}),d.toast.appendChild(d.buttonClose)):r.rtl?d.toast.style.paddingLeft="18px":d.toast.style.paddingRight="18px"}(),function(){r.progressBar&&(d.progressBar=document.createElement("div"),d.progressBarDiv=document.createElement("div"),d.progressBar.classList.add(h+"-progressbar"),d.progressBarDiv.style.background=r.progressBarColor,d.progressBar.appendChild(d.progressBarDiv),d.toast.appendChild(d.progressBar)),r.timeout&&(r.pauseOnHover&&!r.resetOnHover&&(d.toast.addEventListener("mouseenter",function(v){g.progress(r,d.toast).pause()}),d.toast.addEventListener("mouseleave",function(v){g.progress(r,d.toast).resume()})),r.resetOnHover&&(d.toast.addEventListener("mouseenter",function(v){g.progress(r,d.toast).reset()}),d.toast.addEventListener("mouseleave",function(v){g.progress(r,d.toast).start()})))}(),function(){r.iconUrl?(d.icon.setAttribute("class",h+"-icon"),d.icon.setAttribute("src",r.iconUrl)):r.icon&&(d.icon.setAttribute("class",h+"-icon "+r.icon),r.iconText&&d.icon.appendChild(document.createTextNode(r.iconText)),r.iconColor&&(d.icon.style.color=r.iconColor)),(r.icon||r.iconUrl)&&(r.rtl?d.toastBody.style.paddingRight="33px":d.toastBody.style.paddingLeft="33px",d.toastBody.appendChild(d.icon))}(),function(){r.title.length>0&&(d.strong=document.createElement("strong"),d.strong.classList.add(h+"-title"),d.strong.appendChild(t(r.title)),d.toastTexts.appendChild(d.strong),r.titleColor&&(d.strong.style.color=r.titleColor),r.titleSize&&(isNaN(r.titleSize)?d.strong.style.fontSize=r.titleSize:d.strong.style.fontSize=r.titleSize+"px"),r.titleLineHeight&&(isNaN(r.titleSize)?d.strong.style.lineHeight=r.titleLineHeight:d.strong.style.lineHeight=r.titleLineHeight+"px")),r.message.length>0&&(d.p=document.createElement("p"),d.p.classList.add(h+"-message"),d.p.appendChild(t(r.message)),d.toastTexts.appendChild(d.p),r.messageColor&&(d.p.style.color=r.messageColor),r.messageSize&&(isNaN(r.titleSize)?d.p.style.fontSize=r.messageSize:d.p.style.fontSize=r.messageSize+"px"),r.messageLineHeight&&(isNaN(r.titleSize)?d.p.style.lineHeight=r.messageLineHeight:d.p.style.lineHeight=r.messageLineHeight+"px")),r.title.length>0&&r.message.length>0&&(r.rtl?d.strong.style.marginLeft="10px":r.layout!==2&&!r.rtl&&(d.strong.style.marginRight="10px"))}(),d.toastBody.appendChild(d.toastTexts);var T;(function(){r.inputs.length>0&&(d.inputs.classList.add(h+"-inputs"),i(r.inputs,function(v,C){d.inputs.appendChild(t(v[0])),T=d.inputs.childNodes,T[C].classList.add(h+"-inputs-child"),v[3]&&setTimeout(function(){T[C].focus()},300),T[C].addEventListener(v[1],function(S){var A=v[2];return A(g,d.toast,this,S)})}),d.toastBody.appendChild(d.inputs))})(),function(){r.buttons.length>0&&(d.buttons.classList.add(h+"-buttons"),i(r.buttons,function(v,C){d.buttons.appendChild(t(v[0]));var S=d.buttons.childNodes;S[C].classList.add(h+"-buttons-child"),v[2]&&setTimeout(function(){S[C].focus()},300),S[C].addEventListener("click",function(A){A.preventDefault();var _=v[1];return _(g,d.toast,this,A,T)})})),d.toastBody.appendChild(d.buttons)}(),r.message.length>0&&(r.inputs.length>0||r.buttons.length>0)&&(d.p.style.marginBottom="0"),(r.inputs.length>0||r.buttons.length>0)&&(r.rtl?d.toastTexts.style.marginLeft="10px":d.toastTexts.style.marginRight="10px",r.inputs.length>0&&r.buttons.length>0&&(r.rtl?d.inputs.style.marginLeft="8px":d.inputs.style.marginRight="8px")),function(){d.toastCapsule.style.visibility="hidden",setTimeout(function(){var v=d.toast.offsetHeight,C=d.toast.currentStyle||window.getComputedStyle(d.toast),S=C.marginTop;S=S.split("px"),S=parseInt(S[0]);var A=C.marginBottom;A=A.split("px"),A=parseInt(A[0]),d.toastCapsule.style.visibility="",d.toastCapsule.style.height=v+A+S+"px",setTimeout(function(){d.toastCapsule.style.height="auto",r.target&&(d.toastCapsule.style.overflow="visible")},500),r.timeout&&g.progress(r,d.toast).start()},100)}(),function(){var v=r.position;if(r.target)d.wrapper=document.querySelector(r.target),d.wrapper.classList.add(h+"-target"),r.targetFirst?d.wrapper.insertBefore(d.toastCapsule,d.wrapper.firstChild):d.wrapper.appendChild(d.toastCapsule);else{if(x.indexOf(r.position)==-1){console.warn("["+h+`] Incorrect position.
It can be âº `+x);return}w||window.innerWidth<=F?r.position=="bottomLeft"||r.position=="bottomRight"||r.position=="bottomCenter"?v=h+"-wrapper-bottomCenter":r.position=="topLeft"||r.position=="topRight"||r.position=="topCenter"?v=h+"-wrapper-topCenter":v=h+"-wrapper-center":v=h+"-wrapper-"+v,d.wrapper=document.querySelector("."+h+"-wrapper."+v),d.wrapper||(d.wrapper=document.createElement("div"),d.wrapper.classList.add(h+"-wrapper"),d.wrapper.classList.add(v),document.body.appendChild(d.wrapper)),r.position=="topLeft"||r.position=="topCenter"||r.position=="topRight"?d.wrapper.insertBefore(d.toastCapsule,d.wrapper.firstChild):d.wrapper.appendChild(d.toastCapsule)}isNaN(r.zindex)?console.warn("["+h+"] Invalid zIndex."):d.wrapper.style.zIndex=r.zindex}(),function(){r.overlay&&(document.querySelector("."+h+"-overlay.fadeIn")!==null?(d.overlay=document.querySelector("."+h+"-overlay"),d.overlay.setAttribute("data-iziToast-ref",d.overlay.getAttribute("data-iziToast-ref")+","+r.ref),!isNaN(r.zindex)&&r.zindex!==null&&(d.overlay.style.zIndex=r.zindex-1)):(d.overlay.classList.add(h+"-overlay"),d.overlay.classList.add("fadeIn"),d.overlay.style.background=r.overlayColor,d.overlay.setAttribute("data-iziToast-ref",r.ref),!isNaN(r.zindex)&&r.zindex!==null&&(d.overlay.style.zIndex=r.zindex-1),document.querySelector("body").appendChild(d.overlay)),r.overlayClose?(d.overlay.removeEventListener("click",{}),d.overlay.addEventListener("click",function(v){g.hide(r,d.toast,"overlay")})):d.overlay.removeEventListener("click",{}))}(),function(){if(r.animateInside){d.toast.classList.add(h+"-animateInside");var v=[200,100,300];(r.transitionIn=="bounceInLeft"||r.transitionIn=="bounceInRight")&&(v=[400,200,400]),r.title.length>0&&setTimeout(function(){d.strong.classList.add("slideIn")},v[0]),r.message.length>0&&setTimeout(function(){d.p.classList.add("slideIn")},v[1]),(r.icon||r.iconUrl)&&setTimeout(function(){d.icon.classList.add("revealIn")},v[2]);var C=150;r.buttons.length>0&&d.buttons&&setTimeout(function(){i(d.buttons.childNodes,function(S,A){setTimeout(function(){S.classList.add("revealIn")},C),C=C+150})},r.inputs.length>0?150:0),r.inputs.length>0&&d.inputs&&(C=150,i(d.inputs.childNodes,function(S,A){setTimeout(function(){S.classList.add("revealIn")},C),C=C+150}))}}(),r.onOpening.apply(null,[r,d.toast]);try{var L=new CustomEvent(h+"-opening",{detail:r,bubbles:!0,cancelable:!0});document.dispatchEvent(L)}catch(v){console.warn(v)}setTimeout(function(){d.toast.classList.remove(h+"-opening"),d.toast.classList.add(h+"-opened");try{var v=new CustomEvent(h+"-opened",{detail:r,bubbles:!0,cancelable:!0});document.dispatchEvent(v)}catch(C){console.warn(C)}r.onOpened.apply(null,[r,d.toast])},1e3),r.drag&&(M?(d.toast.addEventListener("touchstart",function(v){y.startMoving(this,g,r,v)},!1),d.toast.addEventListener("touchend",function(v){y.stopMoving(this,v)},!1)):(d.toast.addEventListener("mousedown",function(v){v.preventDefault(),y.startMoving(this,g,r,v)},!1),d.toast.addEventListener("mouseup",function(v){v.preventDefault(),y.stopMoving(this,v)},!1))),r.closeOnEscape&&document.addEventListener("keyup",function(v){v=v||window.event,v.keyCode==27&&g.hide(r,d.toast,"esc")}),r.closeOnClick&&d.toast.addEventListener("click",function(v){g.hide(r,d.toast,"toast")}),g.toast=d.toast},f})})(zt);var di=zt.exports;const pi=Ue(di);var qt={exports:{}};(function(o,a){(function(e,f){o.exports=f()})(de,function(){function e(){return Math.random().toString(36).substring(2,10)}function f(I,i){function s(n,l){return l&&n&&n.classList&&n.classList.contains(l)||l&&n&&n.dataset&&n.dataset.id&&n.dataset.id===i?n:null}function t(n,l){return!n||n===document?null:s(n,l)?n:t(n.parentNode,l)}return s(I,i)||t(I,i)}function h(I,i=50,s=!1){let t;return function(...n){const l=self,p=()=>{t=null,s||I.apply(l,n)},y=s&&!t;clearTimeout(t),t=setTimeout(p,i),y&&I.apply(l,n)}}function w(I,i){return JSON.stringify(I)===JSON.stringify(i)}function O(I){const i=I.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,s=>"-"+s.toLowerCase());return I[0]===I[0].toUpperCase()?i.substring(1):i}class E{constructor(i){if(this.id=!i.id||i.id===""?e():i.id,this.label=i.label||"",this.selectAll=i.selectAll===void 0?!1:i.selectAll,this.selectAllText=i.selectAllText||"Select All",this.closable=i.closable||"off",this.options=[],i.options)for(const s of i.options)this.options.push(new M(s))}}class M{constructor(i){this.id=!i.id||i.id===""?e():i.id,this.value=i.value===void 0?i.text:i.value,this.text=i.text||"",this.html=i.html||"",this.selected=i.selected!==void 0?i.selected:!1,this.display=i.display!==void 0?i.display:!0,this.disabled=i.disabled!==void 0?i.disabled:!1,this.mandatory=i.mandatory!==void 0?i.mandatory:!1,this.placeholder=i.placeholder!==void 0?i.placeholder:!1,this.class=i.class||"",this.style=i.style||"",this.data=i.data||{}}}class x{constructor(i,s){this.selectType="single",this.data=[],this.selectType=i,this.setData(s)}validateDataArray(i){if(!Array.isArray(i))return new Error("Data must be an array");for(let s of i)if(s instanceof E||"label"in s){if(!("label"in s))return new Error("Optgroup must have a label");if("options"in s&&s.options)for(let t of s.options)return this.validateOption(t)}else return s instanceof M||"text"in s?this.validateOption(s):new Error("Data object must be a valid optgroup or option");return null}validateOption(i){return"text"in i?null:new Error("Option must have a text")}partialToFullData(i){let s=[];return i.forEach(t=>{if(t instanceof E||"label"in t){let n=[];"options"in t&&t.options&&t.options.forEach(l=>{n.push(new M(l))}),n.length>0&&s.push(new E(t))}(t instanceof M||"text"in t)&&s.push(new M(t))}),s}setData(i){this.data=this.partialToFullData(i),this.selectType==="single"&&this.setSelectedBy("value",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(i){this.setData(this.getData().concat(new M(i)))}setSelectedBy(i,s){let t=null,n=!1;for(let l of this.data){if(l instanceof E)for(let p of l.options)t||(t=p),p.selected=n?!1:s.includes(p[i]),p.selected&&this.selectType==="single"&&(n=!0);l instanceof M&&(t||(t=l),l.selected=n?!1:s.includes(l[i]),l.selected&&this.selectType==="single"&&(n=!0))}this.selectType==="single"&&t&&!n&&(t.selected=!0)}getSelected(){let i=this.getSelectedOptions(),s=[];return i.forEach(t=>{s.push(t.value)}),s}getSelectedOptions(){return this.filter(i=>i.selected,!1)}getSelectedIDs(){let i=this.getSelectedOptions(),s=[];return i.forEach(t=>{s.push(t.id)}),s}getOptgroupByID(i){for(let s of this.data)if(s instanceof E&&s.id===i)return s;return null}getOptionByID(i){let s=this.filter(t=>t.id===i,!1);return s.length?s[0]:null}getSelectType(){return this.selectType}getFirstOption(){let i=null;for(let s of this.data)if(s instanceof E?i=s.options[0]:s instanceof M&&(i=s),i)break;return i}search(i,s){return i=i.trim(),i===""?this.getData():this.filter(t=>s(t,i),!0)}filter(i,s){const t=[];return this.data.forEach(n=>{if(n instanceof E){let l=[];if(n.options.forEach(p=>{(!i||i(p))&&(s?l.push(new M(p)):t.push(new M(p)))}),l.length>0){let p=new E(n);p.options=l,t.push(p)}}n instanceof M&&(!i||i(n))&&t.push(new M(n))}),t}}class P{constructor(i,s,t){this.classes={main:"ss-main",placeholder:"ss-placeholder",values:"ss-values",single:"ss-single",max:"ss-max",value:"ss-value",valueText:"ss-value-text",valueDelete:"ss-value-delete",valueOut:"ss-value-out",deselect:"ss-deselect",deselectPath:"M10,10 L90,90 M10,90 L90,10",arrow:"ss-arrow",arrowClose:"M10,30 L50,70 L90,30",arrowOpen:"M10,70 L50,30 L90,70",content:"ss-content",openAbove:"ss-open-above",openBelow:"ss-open-below",search:"ss-search",searchHighlighter:"ss-search-highlight",searching:"ss-searching",addable:"ss-addable",addablePath:"M50,10 L50,90 M10,50 L90,50",list:"ss-list",optgroup:"ss-optgroup",optgroupLabel:"ss-optgroup-label",optgroupLabelText:"ss-optgroup-label-text",optgroupActions:"ss-optgroup-actions",optgroupSelectAll:"ss-selectall",optgroupSelectAllBox:"M60,10 L10,10 L10,90 L90,90 L90,50",optgroupSelectAllCheck:"M30,45 L50,70 L90,10",optgroupClosable:"ss-closable",option:"ss-option",optionDelete:"M10,10 L90,90 M10,90 L90,10",highlighted:"ss-highlighted",open:"ss-open",close:"ss-close",selected:"ss-selected",error:"ss-error",disabled:"ss-disabled",hide:"ss-hide"},this.store=s,this.settings=i,this.callbacks=t,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const i=this.store.getSelectedOptions();if(i.length){const s=i[i.length-1].id,t=this.content.list.querySelector('[data-id="'+s+'"]');t&&this.ensureElementInView(this.content.list,t)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const i of this.settings.class)i.trim()!==""&&(this.main.main.classList.add(i.trim()),this.content.main.classList.add(i.trim()));this.settings.contentPosition==="relative"&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var i;const s=document.createElement("div");s.dataset.id=this.settings.id,s.setAttribute("aria-label",this.settings.ariaLabel),s.tabIndex=0,s.onkeydown=r=>{switch(r.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),r.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const d=this.content.list.querySelector("."+this.classes.highlighted);return d&&d.click(),!1;case"Escape":return this.callbacks.close(),!1}return!1},s.onclick=r=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const t=document.createElement("div");t.classList.add(this.classes.values),s.appendChild(t);const n=document.createElement("div");n.classList.add(this.classes.deselect);const l=(i=this.store)===null||i===void 0?void 0:i.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&l&&l.length<=0?n.classList.add(this.classes.hide):n.classList.remove(this.classes.hide),n.onclick=r=>{if(r.stopPropagation(),this.settings.disabled)return;let d=!0;const T=this.store.getSelectedOptions(),L=[];if(this.callbacks.beforeChange&&(d=this.callbacks.beforeChange(L,T)===!0),d){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const v=this.store.getFirstOption(),C=v?v.value:"";this.callbacks.setSelected(C,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("viewBox","0 0 100 100");const y=document.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("d",this.classes.deselectPath),p.appendChild(y),n.appendChild(p),s.appendChild(n);const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.classList.add(this.classes.arrow),m.setAttribute("viewBox","0 0 100 100");const g=document.createElementNS("http://www.w3.org/2000/svg","path");return g.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&m.classList.add(this.classes.hide),m.appendChild(g),s.appendChild(m),{main:s,values:t,deselect:{main:n,svg:p,path:y},arrow:{main:m,path:g}}}mainFocus(i){i!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const i=this.store.filter(n=>n.placeholder,!1);let s=this.settings.placeholderText;i.length&&(i[0].html!==""?s=i[0].html:i[0].text!==""&&(s=i[0].text));const t=document.createElement("div");return t.classList.add(this.classes.placeholder),t.innerHTML=s,t}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const i=this.store.filter(t=>t.selected&&!t.placeholder,!1),s=i.length>0?i[0]:null;if(!s)this.main.values.innerHTML=this.placeholder().outerHTML;else{const t=document.createElement("div");t.classList.add(this.classes.single),s.html?t.innerHTML=s.html:t.innerText=s.text,this.main.values.innerHTML=t.outerHTML}!this.settings.allowDeselect||!i.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let i=this.main.values.childNodes,s=this.store.filter(n=>n.selected&&n.display,!1);if(s.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const n=this.main.values.querySelector("."+this.classes.placeholder);n&&n.remove()}if(s.length>this.settings.maxValuesShown){const n=document.createElement("div");n.classList.add(this.classes.max),n.textContent=this.settings.maxValuesMessage.replace("{number}",s.length.toString()),this.main.values.innerHTML=n.outerHTML;return}else{const n=this.main.values.querySelector("."+this.classes.max);n&&n.remove()}let t=[];for(let n=0;n<i.length;n++){const l=i[n],p=l.getAttribute("data-id");p&&(s.filter(m=>m.id===p,!1).length||t.push(l))}for(const n of t)n.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(n)&&this.main.values.removeChild(n)},100);i=this.main.values.childNodes;for(let n=0;n<s.length;n++){let l=!0;for(let p=0;p<i.length;p++)s[n].id===String(i[p].dataset.id)&&(l=!1);l&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(s[n])):i.length===0?this.main.values.appendChild(this.multipleValue(s[n])):n===0?this.main.values.insertBefore(this.multipleValue(s[n]),i[n]):i[n-1].insertAdjacentElement("afterend",this.multipleValue(s[n])))}}multipleValue(i){const s=document.createElement("div");s.classList.add(this.classes.value),s.dataset.id=i.id;const t=document.createElement("div");if(t.classList.add(this.classes.valueText),t.innerText=i.text,s.appendChild(t),!i.mandatory){const n=document.createElement("div");n.classList.add(this.classes.valueDelete),n.onclick=y=>{if(y.preventDefault(),y.stopPropagation(),this.settings.disabled)return;let m=!0;const g=this.store.getSelectedOptions(),r=g.filter(d=>d.selected&&d.id!==i.id,!0);if(!(this.settings.minSelected&&r.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(m=this.callbacks.beforeChange(r,g)===!0),m)){let d=[];for(const T of r){if(T instanceof E)for(const L of T.options)d.push(L.value);T instanceof M&&d.push(T.value)}this.callbacks.setSelected(d,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(r),this.updateDeselectAll()}};const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("viewBox","0 0 100 100");const p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d",this.classes.optionDelete),l.appendChild(p),n.appendChild(l),s.appendChild(n)}return s}contentDiv(){const i=document.createElement("div");i.dataset.id=this.settings.id;const s=this.searchDiv();i.appendChild(s.main);const t=this.listDiv();return i.appendChild(t),{main:i,search:s,list:t}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const i=document.createElement("div"),s=document.createElement("input"),t=document.createElement("div");i.classList.add(this.classes.search);const n={main:i,input:s};if(this.settings.showSearch||(i.classList.add(this.classes.hide),s.readOnly=!0),s.type="search",s.placeholder=this.settings.searchPlaceholder,s.tabIndex=-1,s.setAttribute("aria-label",this.settings.searchPlaceholder),s.setAttribute("autocapitalize","off"),s.setAttribute("autocomplete","off"),s.setAttribute("autocorrect","off"),s.oninput=h(l=>{this.callbacks.search(l.target.value)},100),s.onkeydown=l=>{switch(l.key){case"ArrowUp":case"ArrowDown":return l.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case"Enter":case" ":if(this.callbacks.addable&&l.ctrlKey)return t.click(),!1;{const p=this.content.list.querySelector("."+this.classes.highlighted);if(p)return p.click(),!1}return!0}return!0},i.appendChild(s),this.callbacks.addable){t.classList.add(this.classes.addable);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("viewBox","0 0 100 100");const p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d",this.classes.addablePath),l.appendChild(p),t.appendChild(l),t.onclick=y=>{if(y.preventDefault(),y.stopPropagation(),!this.callbacks.addable)return;const m=this.content.search.input.value.trim();if(m===""){this.content.search.input.focus();return}const g=d=>{let T=new M(d);if(this.callbacks.addOption(T),this.settings.isMultiple){let L=this.store.getSelected();L.push(T.value),this.callbacks.setSelected(L,!0)}else this.callbacks.setSelected([T.value],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},r=this.callbacks.addable(m);r===!1||r===void 0||r===null||(r instanceof Promise?r.then(d=>{g(typeof d=="string"?{text:d,value:d}:d)}):g(typeof r=="string"?{text:r,value:r}:r))},i.appendChild(t),n.addable={main:t,svg:l,path:p}}return n}searchFocus(){this.content.search.input.focus()}getOptions(i=!1,s=!1,t=!1){let n="."+this.classes.option;return i&&(n+=":not(."+this.classes.placeholder+")"),s&&(n+=":not(."+this.classes.disabled+")"),t&&(n+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(n))}highlight(i){const s=this.getOptions(!0,!0,!0);if(s.length===0)return;if(s.length===1&&!s[0].classList.contains(this.classes.highlighted)){s[0].classList.add(this.classes.highlighted);return}let t=!1;for(const n of s)n.classList.contains(this.classes.highlighted)&&(t=!0);if(!t){for(const n of s)if(n.classList.contains(this.classes.selected)){n.classList.add(this.classes.highlighted);break}}for(let n=0;n<s.length;n++)if(s[n].classList.contains(this.classes.highlighted)){const l=s[n];l.classList.remove(this.classes.highlighted);const p=l.parentElement;if(p&&p.classList.contains(this.classes.open)){const g=p.querySelector("."+this.classes.optgroupLabel);g&&g.click()}let y=s[i==="down"?n+1<s.length?n+1:0:n-1>=0?n-1:s.length-1];y.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,y);const m=y.parentElement;if(m&&m.classList.contains(this.classes.close)){const g=m.querySelector("."+this.classes.optgroupLabel);g&&g.click()}return}s[i==="down"?0:s.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,s[i==="down"?0:s.length-1])}listDiv(){const i=document.createElement("div");return i.classList.add(this.classes.list),i}renderError(i){this.content.list.innerHTML="";const s=document.createElement("div");s.classList.add(this.classes.error),s.textContent=i,this.content.list.appendChild(s)}renderSearching(){this.content.list.innerHTML="";const i=document.createElement("div");i.classList.add(this.classes.searching),i.textContent=this.settings.searchingText,this.content.list.appendChild(i)}renderOptions(i){if(this.content.list.innerHTML="",i.length===0){const s=document.createElement("div");s.classList.add(this.classes.search),s.innerHTML=this.settings.searchText,this.content.list.appendChild(s);return}for(const s of i){if(s instanceof E){const t=document.createElement("div");t.classList.add(this.classes.optgroup);const n=document.createElement("div");n.classList.add(this.classes.optgroupLabel),t.appendChild(n);const l=document.createElement("div");l.classList.add(this.classes.optgroupLabelText),l.textContent=s.label,n.appendChild(l);const p=document.createElement("div");if(p.classList.add(this.classes.optgroupActions),n.appendChild(p),this.settings.isMultiple&&s.selectAll){const y=document.createElement("div");y.classList.add(this.classes.optgroupSelectAll);let m=!0;for(const L of s.options)if(!L.selected){m=!1;break}m&&y.classList.add(this.classes.selected);const g=document.createElement("span");g.textContent=s.selectAllText,y.appendChild(g);const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 100 100"),y.appendChild(r);const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",this.classes.optgroupSelectAllBox),r.appendChild(d);const T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d",this.classes.optgroupSelectAllCheck),r.appendChild(T),y.addEventListener("click",L=>{L.preventDefault(),L.stopPropagation();const v=this.store.getSelected();if(m){const C=v.filter(S=>{for(const A of s.options)if(S===A.value)return!1;return!0});this.callbacks.setSelected(C,!0);return}else{const C=v.concat(s.options.map(S=>S.value));for(const S of s.options)this.store.getOptionByID(S.id)||this.callbacks.addOption(S);this.callbacks.setSelected(C,!0);return}}),p.appendChild(y)}if(s.closable!=="off"){const y=document.createElement("div");y.classList.add(this.classes.optgroupClosable);const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("viewBox","0 0 100 100"),m.classList.add(this.classes.arrow),y.appendChild(m);const g=document.createElementNS("http://www.w3.org/2000/svg","path");m.appendChild(g),s.options.some(r=>r.selected)||this.content.search.input.value.trim()!==""?(y.classList.add(this.classes.open),g.setAttribute("d",this.classes.arrowOpen)):s.closable==="open"?(t.classList.add(this.classes.open),g.setAttribute("d",this.classes.arrowOpen)):s.closable==="close"&&(t.classList.add(this.classes.close),g.setAttribute("d",this.classes.arrowClose)),n.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation(),t.classList.contains(this.classes.close)?(t.classList.remove(this.classes.close),t.classList.add(this.classes.open),g.setAttribute("d",this.classes.arrowOpen)):(t.classList.remove(this.classes.open),t.classList.add(this.classes.close),g.setAttribute("d",this.classes.arrowClose))}),p.appendChild(y)}t.appendChild(n);for(const y of s.options)t.appendChild(this.option(y));this.content.list.appendChild(t)}s instanceof M&&this.content.list.appendChild(this.option(s))}}option(i){if(i.placeholder){const t=document.createElement("div");return t.classList.add(this.classes.option),t.classList.add(this.classes.hide),t}const s=document.createElement("div");return s.dataset.id=i.id,s.id=i.id,s.classList.add(this.classes.option),s.setAttribute("role","option"),i.class&&i.class.split(" ").forEach(t=>{s.classList.add(t)}),i.style&&(s.style.cssText=i.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?s.innerHTML=this.highlightText(i.html!==""?i.html:i.text,this.content.search.input.value,this.classes.searchHighlighter):i.html!==""?s.innerHTML=i.html:s.textContent=i.text,this.settings.showOptionTooltips&&s.textContent&&s.setAttribute("title",s.textContent),i.display||s.classList.add(this.classes.hide),i.disabled&&s.classList.add(this.classes.disabled),i.selected&&this.settings.hideSelected&&s.classList.add(this.classes.hide),i.selected?(s.classList.add(this.classes.selected),s.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",s.id)):(s.classList.remove(this.classes.selected),s.setAttribute("aria-selected","false")),s.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const n=this.store.getSelected(),l=t.currentTarget,p=String(l.dataset.id);if(i.disabled||i.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=n.length&&!i.selected||this.settings.isMultiple&&this.settings.minSelected>=n.length&&i.selected)return;let y=!1;const m=this.store.getSelectedOptions();let g=[];this.settings.isMultiple&&(i.selected?g=m.filter(r=>r.id!==p):g=m.concat(i)),this.settings.isMultiple||(i.selected?g=[]:g=[i]),this.callbacks.beforeChange||(y=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(g,m)===!1?y=!1:y=!0),y&&(this.store.getOptionByID(p)||this.callbacks.addOption(i),this.callbacks.setSelected(g.map(r=>r.value),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(g))}),s}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(i,s,t){let n=i;const l=new RegExp("("+s.trim()+")(?![^<]*>[^<>]*</)","i");if(!i.match(l))return i;const p=i.match(l).index,y=p+i.match(l)[0].toString().length,m=i.substring(p,y);return n=n.replace(l,`<mark class="${t}">${m}</mark>`),n}moveContentAbove(){const i=this.main.main.offsetHeight,s=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const t=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(i+s-1)+"px 0px 0px 0px",this.content.main.style.top=t.top+t.height+window.scrollY+"px",this.content.main.style.left=t.left+window.scrollX+"px",this.content.main.style.width=t.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const i=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=i.top+i.height+window.scrollY+"px",this.content.main.style.left=i.left+window.scrollX+"px",this.content.main.style.width=i.width+"px")}ensureElementInView(i,s){const t=i.scrollTop+i.offsetTop,n=t+i.clientHeight,l=s.offsetTop,p=l+s.clientHeight;l<t?i.scrollTop-=t-l:p>n&&(i.scrollTop+=p-n)}putContent(){const i=this.main.main.offsetHeight,s=this.main.main.getBoundingClientRect(),t=this.content.main.offsetHeight;return window.innerHeight-(s.top+i)<=t&&s.top>t?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const i=this.store.getSelectedOptions(),s=i&&i.length>0,t=this.settings.isMultiple,n=this.settings.allowDeselect,l=this.main.deselect.main,p=this.classes.hide;n&&!(t&&!s)?l.classList.remove(p):l.classList.add(p)}}class F{constructor(i){this.listen=!1,this.observer=null,this.select=i,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(i){this.listen=i,i&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),i||this.observer&&this.observer.disconnect()}valueChange(i){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedValues()),!0}observeCall(i){if(!this.listen)return;let s=!1,t=!1,n=!1;for(const l of i)l.target===this.select&&(l.attributeName==="disabled"&&(t=!0),l.attributeName==="class"&&(s=!0)),(l.target.nodeName==="OPTGROUP"||l.target.nodeName==="OPTION")&&(n=!0);s&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),t&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),n&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let i=[];const s=this.select.childNodes;for(const t of s)t.nodeName==="OPTGROUP"&&i.push(this.getDataFromOptgroup(t)),t.nodeName==="OPTION"&&i.push(this.getDataFromOption(t));return i}getDataFromOptgroup(i){let s={id:i.id,label:i.label,selectAll:i.dataset?i.dataset.selectall==="true":!1,selectAllText:i.dataset?i.dataset.selectalltext:"Select all",closable:i.dataset?i.dataset.closable:"off",options:[]};const t=i.childNodes;for(const n of t)n.nodeName==="OPTION"&&s.options.push(this.getDataFromOption(n));return s}getDataFromOption(i){return{id:i.id,value:i.value,text:i.text,html:i.dataset&&i.dataset.html?i.dataset.html:"",selected:i.selected,display:i.style.display!=="none",disabled:i.disabled,mandatory:i.dataset?i.dataset.mandatory==="true":!1,placeholder:i.dataset.placeholder==="true",class:i.className,style:i.style.cssText,data:i.dataset}}getSelectedValues(){let i=[];const s=this.select.childNodes;for(const t of s){if(t.nodeName==="OPTGROUP"){const n=t.childNodes;for(const l of n)if(l.nodeName==="OPTION"){const p=l;p.selected&&i.push(p.value)}}if(t.nodeName==="OPTION"){const n=t;n.selected&&i.push(n.value)}}return i}setSelected(i){this.changeListen(!1);const s=this.select.childNodes;for(const t of s){if(t.nodeName==="OPTGROUP"){const l=t.childNodes;for(const p of l)if(p.nodeName==="OPTION"){const y=p;y.selected=i.includes(y.value)}}if(t.nodeName==="OPTION"){const n=t;n.selected=i.includes(n.value)}}this.changeListen(!0)}updateSelect(i,s,t){this.changeListen(!1),i&&(this.select.dataset.id=i),s&&(this.select.style.cssText=s),t&&(this.select.className="",t.forEach(n=>{n.trim()!==""&&this.select.classList.add(n.trim())})),this.changeListen(!0)}updateOptions(i){this.changeListen(!1),this.select.innerHTML="";for(const s of i)s instanceof E&&this.select.appendChild(this.createOptgroup(s)),s instanceof M&&this.select.appendChild(this.createOption(s));this.select.dispatchEvent(new Event("change")),this.changeListen(!0)}createOptgroup(i){const s=document.createElement("optgroup");if(s.id=i.id,s.label=i.label,i.selectAll&&(s.dataset.selectAll="true"),i.closable!=="off"&&(s.dataset.closable=i.closable),i.options)for(const t of i.options)s.appendChild(this.createOption(t));return s}createOption(i){const s=document.createElement("option");return s.id=i.id,s.value=i.value,s.innerHTML=i.text,i.html!==""&&s.setAttribute("data-html",i.html),i.selected&&(s.selected=i.selected),i.disabled&&(s.disabled=!0),i.display===!1&&(s.style.display="none"),i.placeholder&&s.setAttribute("data-placeholder","true"),i.mandatory&&s.setAttribute("data-mandatory","true"),i.class&&i.class.split(" ").forEach(t=>{s.classList.add(t)}),i.data&&typeof i.data=="object"&&Object.keys(i.data).forEach(t=>{s.setAttribute("data-"+O(t),i.data[t])}),s}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class k{constructor(i){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,i||(i={}),this.id="ss-"+e(),this.style=i.style||"",this.class=i.class||[],this.disabled=i.disabled!==void 0?i.disabled:!1,this.alwaysOpen=i.alwaysOpen!==void 0?i.alwaysOpen:!1,this.showSearch=i.showSearch!==void 0?i.showSearch:!0,this.ariaLabel=i.ariaLabel||"Combobox",this.searchPlaceholder=i.searchPlaceholder||"Search",this.searchText=i.searchText||"No Results",this.searchingText=i.searchingText||"Searching...",this.searchHighlight=i.searchHighlight!==void 0?i.searchHighlight:!1,this.closeOnSelect=i.closeOnSelect!==void 0?i.closeOnSelect:!0,this.contentLocation=i.contentLocation||document.body,this.contentPosition=i.contentPosition||"absolute",this.openPosition=i.openPosition||"auto",this.placeholderText=i.placeholderText!==void 0?i.placeholderText:"Select Value",this.allowDeselect=i.allowDeselect!==void 0?i.allowDeselect:!1,this.hideSelected=i.hideSelected!==void 0?i.hideSelected:!1,this.keepOrder=i.keepOrder!==void 0?i.keepOrder:!1,this.showOptionTooltips=i.showOptionTooltips!==void 0?i.showOptionTooltips:!1,this.minSelected=i.minSelected||0,this.maxSelected=i.maxSelected||1e3,this.timeoutDelay=i.timeoutDelay||200,this.maxValuesShown=i.maxValuesShown||20,this.maxValuesMessage=i.maxValuesMessage||"{number} selected"}}class Y{constructor(i){var s;if(this.events={search:void 0,searchFilter:(y,m)=>y.text.toLowerCase().indexOf(m.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=h(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=h(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=y=>{this.settings.isOpen&&y.target&&!f(y.target,this.settings.id)&&this.close(y.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof i.select=="string"?document.querySelector(i.select):i.select,!this.selectEl){i.events&&i.events.error&&i.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){i.events&&i.events.error&&i.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new k(i.settings);const t=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const y in i.events)i.events.hasOwnProperty(y)&&(t.indexOf(y)!==-1?this.events[y]=h(i.events[y],100):this.events[y]=i.events[y]);this.settings.disabled=!((s=i.settings)===null||s===void 0)&&s.disabled?i.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new F(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=y=>{this.setSelected(y)},this.select.onClassChange=y=>{this.settings.class=y,this.render.updateClassStyles()},this.select.onDisabledChange=y=>{y?this.disable():this.enable()},this.select.onOptionsChange=y=>{this.setData(y)},this.store=new x(this.settings.isMultiple?"multiple":"single",i.data?i.data:this.select.getData()),i.data&&this.select.updateOptions(this.store.getData());const n={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new P(this.settings,this.store,n),this.render.renderValues(),this.render.renderOptions(this.store.getData());const l=this.selectEl.getAttribute("aria-label"),p=this.selectEl.getAttribute("aria-labelledby");l?this.render.main.main.setAttribute("aria-label",l):p&&this.render.main.main.setAttribute("aria-labelledby",p),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(i){const s=this.store.getSelected(),t=this.store.validateDataArray(i);if(t){this.events.error&&this.events.error(t);return}this.store.setData(i);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!w(s,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){return this.store.getSelected()}setSelected(i,s=!0){const t=this.store.getSelected();this.store.setSelectedBy("value",Array.isArray(i)?i:[i]);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(n),s&&this.events.afterChange&&!w(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(i){const s=this.store.getSelected();this.store.getDataOptions().some(n=>{var l;return n.value===((l=i.value)!==null&&l!==void 0?l:i.text)})||this.store.addOption(i);const t=this.store.getData();this.select.updateOptions(t),this.render.renderValues(),this.render.renderOptions(t),this.events.afterChange&&!w(s,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(i=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(i),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(i){if(this.render.content.search.input.value!==i&&(this.render.content.search.input.value=i),!this.events.search){this.render.renderOptions(i===""?this.store.getData():this.store.search(i,this.events.searchFilter));return}this.render.renderSearching();const s=this.events.search(i,this.store.getSelectedOptions());if(s instanceof Promise){s.then(t=>{this.render.renderOptions(this.store.partialToFullData(t))}).catch(t=>{this.render.renderError(typeof t=="string"?t:t.message)});return}else Array.isArray(s)?this.render.renderOptions(this.store.partialToFullData(s)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return Y})})(qt);var ui=qt.exports;const mi=Ue(ui);export{jt as P,fi as S,mi as a,$ as f,pi as i,hi as t};
